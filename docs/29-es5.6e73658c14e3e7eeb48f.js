!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(r):s.value}})(t,e,n||t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=i(t);if(e){var s=i(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return o(this,r)}}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"2IxY":function(o,a,c){"use strict";c.r(a),c.d(a,"SelectShippingAdressPageModule",(function(){return x}));var u=c("ofXK"),l=c("3Pt+"),d=c("TEn/"),b=c("tyNb"),p=c("mrSG"),f=c("n3qt"),g=c("fXoL"),h=c("kwrG"),v=c("MDGB"),y=c("x7k0"),P=c("e8h1"),m=c("sYmb"),w=c("QibW");function A(t,e){if(1&t){var r=g.Rb();g.Qb(0,"div",6),g.Qb(1,"ion-grid",7),g.Qb(2,"ion-row",8),g.Qb(3,"ion-col",9),g.Lb(4,"mat-radio-button",10),g.Pb(),g.Qb(5,"ion-col",11),g.Qb(6,"a",12),g.Yb("click",(function(){g.nc(r);var t=e.$implicit;return g.ac().modifyAdress(t)})),g.uc(7),g.bc(8,"translate"),g.Pb(),g.Qb(9,"p",13),g.uc(10),g.Pb(),g.Qb(11,"p",13),g.uc(12),g.Pb(),g.Qb(13,"p",13),g.uc(14),g.Pb(),g.Qb(15,"p",13),g.uc(16),g.Pb(),g.Qb(17,"p",13),g.uc(18),g.Pb(),g.Qb(19,"p",13),g.uc(20),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb()}if(2&t){var n=e.$implicit;g.zb(4),g.gc("checked",n.IsDefaultAdress)("value",n.Id),g.zb(3),g.vc(g.cc(8,10,"select-shipping-adress.Modifier")),g.zb(3),g.wc("",n.ContactFirstName," "),g.zb(2),g.vc(n.ContactLastName),g.zb(2),g.vc(n.FirstLineAddress),g.zb(2),g.vc(n.SecondLineAddress),g.zb(2),g.xc("",n.ZipCode," ",n.City," "),g.zb(2),g.vc(n.ContactTelephone)}}function S(t,e){if(1&t){var r=g.Rb();g.Qb(0,"ion-footer"),g.Qb(1,"ion-toolbar",14),g.Qb(2,"div",15),g.Qb(3,"p",13),g.uc(4),g.Pb(),g.Qb(5,"p",13),g.uc(6),g.Pb(),g.Qb(7,"p",13),g.uc(8),g.Pb(),g.Qb(9,"div",16),g.Qb(10,"ion-button",17),g.Yb("click",(function(){return g.nc(r),g.ac().saveShippingAdress()})),g.uc(11),g.bc(12,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb()}if(2&t){var n=g.ac();g.zb(4),g.wc("",n.getSelectedAdress().ContactFirstName," "),g.zb(2),g.vc(n.getSelectedAdress().FirstLineAddress),g.zb(2),g.xc("",n.getSelectedAdress().ZipCode," ",n.getSelectedAdress().City,""),g.zb(3),g.vc(g.cc(12,5,"select-shipping-adress.Confirmer"))}}var C,Q,k,O=[{path:"",component:(C=function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(d,o);var a,c,u,l=s(d);function d(e,r,n,s,o,i,a,c,u){var b;return t(this,d),(b=l.call(this)).navCtrl=e,b.network=r,b.toastCtrl=n,b.rest=s,b.utils=o,b.loadingCtrl=i,b.storage=a,b.translateService=c,b.router=u,b.adressList=[],b}return a=d,(c=[{key:"ngOnInit",value:function(){var t=this,e=Object.create(null,{showLoading:{get:function(){return r(i(d.prototype),"showLoading",t)}},showToast:{get:function(){return r(i(d.prototype),"showToast",t)}}});return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.previousPage=this.router.snapshot.queryParams.CurrentPage,"none"==this.network.type){t.next=10;break}return t.next=3,e.showLoading.call(this,this.loadingCtrl,this.translateService.instant("Loading"));case 3:return r=t.sent,t.next=6,this.utils.getKey("userId");case 6:n=t.sent,this.rest.GetUserShippingAdress(n).subscribe((function(t){t.Success&&null!=t.Data?(s.adressList=t.Data,null!=s.router.snapshot.queryParams.CurrentAddressId&&s.router.snapshot.queryParams.CurrentAddressId>0&&(s.selectedAdressId=s.router.snapshot.queryParams.CurrentAddressId),console.log(t.Data)):e.showToast.call(s,s.toastCtrl,s.translateService.instant("Msg_Error")),r.dismiss()}),(function(t){e.showToast.call(s,s.toastCtrl,s.translateService.instant("Msg_Error")),r.dismiss()})),t.next=11;break;case 10:e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"));case 11:case"end":return t.stop()}}),t,this)})))}},{key:"ionViewDidEnter",value:function(){var t=this;if(null!=this.router.snapshot.queryParams.type){var e=localStorage.getItem("userId");this.rest.GetUserShippingAdress(e).subscribe((function(e){e.Success&&null!=e.Data?(t.adressList=e.Data,null!=t.router.snapshot.queryParams.CurrentAddressId&&t.router.snapshot.queryParams.CurrentAddressId>0&&(t.selectedAdressId=t.router.snapshot.queryParams.CurrentAddressId),console.log(e.Data)):r(i(d.prototype),"showToast",t).call(t,t.toastCtrl,t.translateService.instant("Msg_Error"))}),(function(e){r(i(d.prototype),"showToast",t).call(t,t.toastCtrl,t.translateService.instant("Msg_Error"))}))}}},{key:"addNewAddress",value:function(){this.navCtrl.navigateForward("AddAdressPage",{queryParams:{type:"shippingAdress",currentPage:"SelectShippingAdressPage"}})}},{key:"modifyAdress",value:function(t){this.navCtrl.navigateForward("AddAdressPage",{queryParams:{type:"shippingAdress",adress:JSON.stringify(t),currentPage:"SelectShippingAdressPage"}})}},{key:"saveShippingAdress",value:function(){var t=this.getSelectedAdress();this.navCtrl.navigateBack(this.previousPage,{queryParams:{tempSelectedAdress:JSON.stringify(t)}})}},{key:"getSelectedAdress",value:function(){var t=this;return this.adressList.find((function(e){return e.Id==t.selectedAdressId}))}}])&&e(a.prototype,c),u&&e(a,u),d}(f.a),C.\u0275fac=function(t){return new(t||C)(g.Kb(d.ab),g.Kb(h.a),g.Kb(d.fb),g.Kb(v.a),g.Kb(y.a),g.Kb(d.Y),g.Kb(P.b),g.Kb(m.d),g.Kb(b.a))},C.\u0275cmp=g.Eb({type:C,selectors:[["app-select-shipping-adress"]],features:[g.wb],decls:15,vars:9,consts:[["slot","start"],["float-right","",1,"ion-float-right",2,"margin","10px 10px",3,"click"],[2,"margin-top","30px","clear","both"],[1,"example-radio-group",3,"ngModel","ngModelChange"],["class","productCard",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"productCard"],[1,"gridStyle",2,"background-color","white"],[1,"colStyle"],["size","2","col-2","",1,"align-text-middle","colStyle"],["color","primary",1,"example-radio-button",2,"color","#534d7a","margin-top","30px",3,"checked","value"],["size","10","col-10","",1,"colStyle"],["float-right","",1,"ion-float-right",3,"click"],[1,"addressDetail"],[2,"padding-bottom","0px"],[2,"padding","5px"],[1,"ion-text-center"],["size","small","color","primary",2,"width","100%",3,"click"]],template:function(t,e){1&t&&(g.Qb(0,"ion-header"),g.Qb(1,"ion-toolbar"),g.Qb(2,"ion-buttons",0),g.Lb(3,"ion-back-button"),g.Pb(),g.Qb(4,"ion-title"),g.uc(5),g.bc(6,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(7,"ion-content"),g.Qb(8,"a",1),g.Yb("click",(function(){return e.addNewAddress()})),g.uc(9),g.bc(10,"translate"),g.Pb(),g.Qb(11,"ion-list",2),g.Qb(12,"mat-radio-group",3),g.Yb("ngModelChange",(function(t){return e.selectedAdressId=t})),g.tc(13,A,21,12,"div",4),g.Pb(),g.Pb(),g.Pb(),g.tc(14,S,13,7,"ion-footer",5)),2&t&&(g.zb(5),g.vc(g.cc(6,5,"select-shipping-adress.Livraison")),g.zb(4),g.vc(g.cc(10,7,"select-shipping-adress.Ajouter")),g.zb(3),g.gc("ngModel",e.selectedAdressId),g.zb(1),g.gc("ngForOf",e.adressList),g.zb(1),g.gc("ngIf",null!=e.getSelectedAdress()))},directives:[d.t,d.V,d.i,d.e,d.f,d.U,d.q,d.B,w.b,l.i,l.l,u.j,u.k,d.s,d.H,d.p,w.a,d.r,d.h],pipes:[m.c],styles:[".addressDetail[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.gridStyle[_ngcontent-%COMP%]{border-bottom:1px solid grey}"]}),C)}],I=((k=function e(){t(this,e)}).\u0275mod=g.Ib({type:k}),k.\u0275inj=g.Hb({factory:function(t){return new(t||k)},imports:[[b.i.forChild(O)],b.i]}),k),x=((Q=function e(){t(this,e)}).\u0275mod=g.Ib({type:Q}),Q.\u0275inj=g.Hb({factory:function(t){return new(t||Q)},imports:[[u.b,l.e,d.W,I,w.c,m.b]]}),Q)}}])}();