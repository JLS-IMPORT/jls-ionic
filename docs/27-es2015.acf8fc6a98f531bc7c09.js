(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{KX34:function(e,r,t){"use strict";t.r(r),t.d(r,"RegistrePageModule",(function(){return k}));var a=t("ofXK"),o=t("3Pt+"),s=t("TEn/"),i=t("tyNb"),n=t("mrSG"),c=t("n3qt"),b=t("/uUt"),l=t("Kj3r"),m=t("eIep"),d=t("lJxs"),u=t("SxV6"),p=t("fXoL"),f=t("sYmb"),h=t("MDGB"),g=t("kwrG"),P=t("xHqg"),C=t("kmnG"),v=t("qFsG"),q=t("bTqV"),Q=t("d3UM"),I=t("FKr1");function w(e,r){1&e&&(p.uc(0),p.bc(1,"translate")),2&e&&p.vc(p.cc(1,1,"registre.Compte"))}function F(e,r){1&e&&(p.Qb(0,"mat-error"),p.uc(1),p.bc(2,"translate"),p.Pb()),2&e&&(p.zb(1),p.wc(" ",p.cc(2,1,"registre.Error_UserAlreadyExists")," "))}function z(e,r){1&e&&(p.Qb(0,"mat-error"),p.uc(1),p.bc(2,"translate"),p.Pb()),2&e&&(p.zb(1),p.wc(" ",p.cc(2,1,"registre.Warming_PleaseEntreCorrectEmail")," "))}function N(e,r){1&e&&(p.Qb(0,"mat-error"),p.uc(1),p.bc(2,"translate"),p.Pb()),2&e&&(p.zb(1),p.wc(" ",p.cc(2,1,"registre.Warming_AtLeast8Characters")," "))}function y(e,r){1&e&&(p.Qb(0,"div",31),p.uc(1),p.bc(2,"translate"),p.Pb()),2&e&&(p.zb(1),p.wc(" ",p.cc(2,1,"registre.Warming_PasswordsMustMatch")," "))}function L(e,r){1&e&&(p.uc(0),p.bc(1,"translate")),2&e&&p.vc(p.cc(1,1,"registre.Entreprise"))}function E(e,r){1&e&&(p.uc(0),p.bc(1,"translate")),2&e&&p.vc(p.cc(1,1,"registre.Address"))}const S=[{path:"",component:(()=>{class e extends c.a{constructor(e,r,t,a,s,i,n){super(),this.navCtrl=e,this.translateService=r,this.formBuilder=t,this.rest=a,this.network=s,this.toastCtrl=i,this.loadingCtrl=n,this.basicInfoForm=this.formBuilder.group({email:["",o.q.compose([o.q.required,o.q.email]),this.userNameUniqueValidator()],password:["",o.q.compose([o.q.required,o.q.minLength(8)])],confirmPassword:["",o.q.required]}),this.entrepriseForm=this.formBuilder.group({entrepriseName:["",o.q.required],siret:["",o.q.required],phoneNumber:["",o.q.required]}),this.addressForm=this.formBuilder.group({Id:["0"],FirstLineAddress:["",o.q.required],SecondLineAddress:[""],City:["",o.q.required],CountryId:["",o.q.required],ZipCode:["",o.q.required],ContactTelephone:["",o.q.required],ContactFax:[""],ContactFirstName:["",o.q.required],ContactLastName:["",o.q.required]})}ngOnInit(){}confirmPassword(){return this.basicInfoForm.get("password").value!=this.basicInfoForm.get("confirmPassword").value}userNameUniqueValidator(){return e=>e.valueChanges.pipe(Object(b.a)(),Object(l.a)(1e3),Object(m.a)(()=>this.rest.CheckUserIsAlreadyExistAsync(e.value)),Object(d.a)(e=>1==e?{duplicate:!0}:null),Object(u.a)())}isAlreadyExists(){return this.basicInfoForm.get("email").hasError("duplicate")}registre(){const e=Object.create(null,{showToast:{get:()=>super.showToast}});return Object(n.a)(this,void 0,void 0,(function*(){if(this.basicInfoForm.valid&&this.entrepriseForm.valid&&this.addressForm.valid&&!this.confirmPassword()){var r={Email:this.basicInfoForm.value.email,Password:this.basicInfoForm.value.password,Siret:this.entrepriseForm.value.siret,EntrepriseName:this.entrepriseForm.value.entrepriseName,PhoneNumber:this.entrepriseForm.value.phoneNumber,FacturationAdress:this.addressForm.value,ShipmentAdress:this.addressForm.value};if("none"!=this.network.type){var t=yield this.showLoading(this.loadingCtrl,this.translateService.instant("Loading"));this.rest.Registre(r).subscribe(r=>Object(n.a)(this,void 0,void 0,(function*(){r.Success?this.navCtrl.navigateRoot("RegistreSuccedPage",{queryParams:{email:r.DataExt,page:"RegistrePage"}}):e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),t.dismiss()})),r=>{e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),t.dismiss()})}else e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"))}else e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_SomeErrorInForm"))}))}get basicInfoFormCtrl(){return this.basicInfoForm.controls}get entrepriseFormCtrl(){return this.entrepriseForm.controls}get addressFormCtrl(){return this.addressForm.controls}}return e.\u0275fac=function(r){return new(r||e)(p.Kb(s.ab),p.Kb(f.d),p.Kb(o.b),p.Kb(h.a),p.Kb(g.a),p.Kb(s.fb),p.Kb(s.Y))},e.\u0275cmp=p.Eb({type:e,selectors:[["app-registre"]],features:[p.wb],decls:106,vars:76,consts:[["slot","start"],["defaultHref","/tabs/tabMyAccount"],[2,"background-color","#f4f4f4!important"],["linear","true"],["stepper","matHorizontalStepper"],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["matInput","","formControlName","email","required","",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","password","required","","type","password",3,"placeholder"],["matInput","","formControlName","confirmPassword","required","","type","password",3,"placeholder"],["style","color: red; margin-bottom: 7px;",4,"ngIf"],["mat-raised-button","","color","primary","matStepperNext",""],["matInput","","formControlName","entrepriseName","required","",3,"placeholder"],["matInput","","formControlName","siret","required","",3,"placeholder"],["matPrefix",""],["matInput","","required","","type","tel","matInput","","formControlName","phoneNumber",3,"placeholder"],["mat-raised-button","","color","warn","matStepperPrevious",""],["col-6",""],["matInput","","formControlName","ContactFirstName","required","",3,"placeholder"],["matInput","","formControlName","ContactLastName","required","",3,"placeholder"],["matInput","","formControlName","FirstLineAddress","required","",3,"placeholder"],["matInput","","formControlName","SecondLineAddress",3,"placeholder"],["required","","matNativeControl","","formControlName","CountryId"],[3,"value"],["matInput","","formControlName","City","required","",3,"placeholder"],["matInput","","formControlName","ZipCode","required","",3,"placeholder"],["matInput","","required","","type","tel","matInput","","formControlName","ContactTelephone",3,"placeholder"],["matInput","","type","tel","matInput","","formControlName","ContactFax",3,"placeholder"],["mat-raised-button","","color","primary",3,"click"],[2,"color","red","margin-bottom","7px"]],template:function(e,r){1&e&&(p.Qb(0,"ion-header"),p.Qb(1,"ion-toolbar"),p.Qb(2,"ion-buttons",0),p.Lb(3,"ion-back-button",1),p.Pb(),p.Qb(4,"ion-title"),p.uc(5),p.bc(6,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Qb(7,"ion-content",2),p.Qb(8,"mat-horizontal-stepper",3,4),p.Qb(10,"mat-step",5),p.Qb(11,"form",6),p.tc(12,w,2,3,"ng-template",7),p.Qb(13,"mat-form-field"),p.Lb(14,"input",8),p.bc(15,"translate"),p.tc(16,F,3,3,"mat-error",9),p.tc(17,z,3,3,"mat-error",9),p.Pb(),p.Qb(18,"mat-form-field"),p.Lb(19,"input",10),p.bc(20,"translate"),p.tc(21,N,3,3,"mat-error",9),p.Pb(),p.Qb(22,"mat-form-field"),p.Lb(23,"input",11),p.bc(24,"translate"),p.Pb(),p.tc(25,y,3,3,"div",12),p.Qb(26,"div"),p.Qb(27,"button",13),p.uc(28),p.bc(29,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(30,"mat-step",5),p.Qb(31,"form",6),p.tc(32,L,2,3,"ng-template",7),p.Qb(33,"mat-form-field"),p.Lb(34,"input",14),p.bc(35,"translate"),p.Pb(),p.Qb(36,"mat-form-field"),p.Lb(37,"input",15),p.bc(38,"translate"),p.Pb(),p.Qb(39,"mat-form-field"),p.Qb(40,"span",16),p.uc(41,"+33 \xa0"),p.Pb(),p.Lb(42,"input",17),p.bc(43,"translate"),p.Pb(),p.Qb(44,"div"),p.Qb(45,"button",18),p.uc(46),p.bc(47,"translate"),p.Pb(),p.Qb(48,"button",13),p.uc(49),p.bc(50,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(51,"mat-step",5),p.Qb(52,"form",6),p.tc(53,E,2,3,"ng-template",7),p.Qb(54,"ion-row"),p.Qb(55,"ion-col",19),p.Qb(56,"mat-form-field"),p.Lb(57,"input",20),p.bc(58,"translate"),p.Pb(),p.Pb(),p.Qb(59,"ion-col",19),p.Qb(60,"mat-form-field"),p.Lb(61,"input",21),p.bc(62,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Qb(63,"mat-form-field"),p.Lb(64,"input",22),p.bc(65,"translate"),p.Pb(),p.Qb(66,"mat-form-field"),p.Lb(67,"input",23),p.bc(68,"translate"),p.Pb(),p.Qb(69,"mat-form-field"),p.Qb(70,"mat-label"),p.uc(71),p.bc(72,"translate"),p.Pb(),p.Qb(73,"mat-select",24),p.Qb(74,"mat-option",25),p.uc(75," France "),p.Pb(),p.Qb(76,"mat-option",25),p.uc(77," Belgique "),p.Pb(),p.Qb(78,"mat-option",25),p.uc(79," Espagnol "),p.Pb(),p.Pb(),p.Pb(),p.Qb(80,"ion-row"),p.Qb(81,"ion-col",19),p.Qb(82,"mat-form-field"),p.Lb(83,"input",26),p.bc(84,"translate"),p.Pb(),p.Pb(),p.Qb(85,"ion-col",19),p.Qb(86,"mat-form-field"),p.Lb(87,"input",27),p.bc(88,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Qb(89,"mat-form-field"),p.Qb(90,"span",16),p.uc(91,"+33 \xa0"),p.Pb(),p.Lb(92,"input",28),p.bc(93,"translate"),p.Pb(),p.Qb(94,"mat-form-field"),p.Qb(95,"span",16),p.uc(96,"+33 \xa0"),p.Pb(),p.Lb(97,"input",29),p.bc(98,"translate"),p.Pb(),p.Qb(99,"div"),p.Qb(100,"button",18),p.uc(101),p.bc(102,"translate"),p.Pb(),p.Qb(103,"button",30),p.Yb("click",(function(){return r.registre()})),p.uc(104),p.bc(105,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb()),2&e&&(p.zb(5),p.vc(p.cc(6,34,"registre.Title")),p.zb(5),p.gc("stepControl",r.basicInfoForm),p.zb(1),p.gc("formGroup",r.basicInfoForm),p.zb(3),p.hc("placeholder",p.cc(15,36,"registre.Email")),p.zb(2),p.gc("ngIf",r.isAlreadyExists()),p.zb(1),p.gc("ngIf",r.basicInfoFormCtrl.email.errors&&!r.isAlreadyExists()),p.zb(2),p.hc("placeholder",p.cc(20,38,"registre.Password")),p.zb(2),p.gc("ngIf",r.basicInfoFormCtrl.password.errors),p.zb(2),p.hc("placeholder",p.cc(24,40,"registre.Password")),p.zb(2),p.gc("ngIf",r.confirmPassword()),p.zb(3),p.vc(p.cc(29,42,"registre.Next")),p.zb(2),p.gc("stepControl",r.entrepriseForm),p.zb(1),p.gc("formGroup",r.entrepriseForm),p.zb(3),p.hc("placeholder",p.cc(35,44,"registre.CompanyName")),p.zb(3),p.hc("placeholder",p.cc(38,46,"registre.Siret")),p.zb(5),p.hc("placeholder",p.cc(43,48,"registre.PhoneNumber")),p.zb(4),p.vc(p.cc(47,50,"registre.Back")),p.zb(3),p.vc(p.cc(50,52,"registre.Next")),p.zb(2),p.gc("stepControl",r.addressForm),p.zb(1),p.gc("formGroup",r.addressForm),p.zb(5),p.hc("placeholder",p.cc(58,54,"registre.Firstname")),p.zb(4),p.hc("placeholder",p.cc(62,56,"registre.Lastname")),p.zb(3),p.hc("placeholder",p.cc(65,58,"registre.AddressLine1")),p.zb(3),p.hc("placeholder",p.cc(68,60,"registre.AddressLine2")),p.zb(4),p.vc(p.cc(72,62,"registre.Country")),p.zb(3),p.gc("value",1),p.zb(2),p.gc("value",2),p.zb(2),p.gc("value",3),p.zb(5),p.hc("placeholder",p.cc(84,64,"registre.City")),p.zb(4),p.hc("placeholder",p.cc(88,66,"registre.ZipCode")),p.zb(5),p.hc("placeholder",p.cc(93,68,"registre.PhoneNumber")),p.zb(5),p.hc("placeholder",p.cc(98,70,"registre.Fax")),p.zb(4),p.vc(p.cc(102,72,"registre.Back")),p.zb(3),p.vc(p.cc(105,74,"registre.Registre")))},directives:[s.t,s.V,s.i,s.e,s.f,s.U,s.q,P.a,P.b,o.r,o.j,o.d,P.c,C.c,v.a,o.a,o.i,o.c,o.p,a.k,q.a,P.e,C.g,P.f,s.H,s.p,C.f,Q.a,I.f,C.b],pipes:[f.c],styles:[".requiredLabel[_ngcontent-%COMP%]{color:#f53d3d}.mat-form-field[_ngcontent-%COMP%]{display:inline}"]}),e})()}];let x=(()=>{class e{}return e.\u0275mod=p.Ib({type:e}),e.\u0275inj=p.Hb({factory:function(r){return new(r||e)},imports:[[i.i.forChild(S)],i.i]}),e})();var A=t("NFeN");let k=(()=>{class e{}return e.\u0275mod=p.Ib({type:e}),e.\u0275inj=p.Hb({factory:function(r){return new(r||e)},imports:[[a.b,o.e,s.W,x,C.e,v.b,P.d,q.b,A.b,f.b,Q.b,o.e,o.o]]}),e})()}}]);