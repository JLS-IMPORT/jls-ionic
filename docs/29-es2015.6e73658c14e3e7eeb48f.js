(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"2IxY":function(t,s,e){"use strict";e.r(s),e.d(s,"SelectShippingAdressPageModule",(function(){return A}));var r=e("ofXK"),i=e("3Pt+"),a=e("TEn/"),n=e("tyNb"),o=e("mrSG"),c=e("n3qt"),d=e("fXoL"),l=e("kwrG"),b=e("MDGB"),u=e("x7k0"),h=e("e8h1"),p=e("sYmb"),g=e("QibW");function P(t,s){if(1&t){const t=d.Rb();d.Qb(0,"div",6),d.Qb(1,"ion-grid",7),d.Qb(2,"ion-row",8),d.Qb(3,"ion-col",9),d.Lb(4,"mat-radio-button",10),d.Pb(),d.Qb(5,"ion-col",11),d.Qb(6,"a",12),d.Yb("click",(function(){d.nc(t);const e=s.$implicit;return d.ac().modifyAdress(e)})),d.uc(7),d.bc(8,"translate"),d.Pb(),d.Qb(9,"p",13),d.uc(10),d.Pb(),d.Qb(11,"p",13),d.uc(12),d.Pb(),d.Qb(13,"p",13),d.uc(14),d.Pb(),d.Qb(15,"p",13),d.uc(16),d.Pb(),d.Qb(17,"p",13),d.uc(18),d.Pb(),d.Qb(19,"p",13),d.uc(20),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()}if(2&t){const t=s.$implicit;d.zb(4),d.gc("checked",t.IsDefaultAdress)("value",t.Id),d.zb(3),d.vc(d.cc(8,10,"select-shipping-adress.Modifier")),d.zb(3),d.wc("",t.ContactFirstName," "),d.zb(2),d.vc(t.ContactLastName),d.zb(2),d.vc(t.FirstLineAddress),d.zb(2),d.vc(t.SecondLineAddress),d.zb(2),d.xc("",t.ZipCode," ",t.City," "),d.zb(2),d.vc(t.ContactTelephone)}}function f(t,s){if(1&t){const t=d.Rb();d.Qb(0,"ion-footer"),d.Qb(1,"ion-toolbar",14),d.Qb(2,"div",15),d.Qb(3,"p",13),d.uc(4),d.Pb(),d.Qb(5,"p",13),d.uc(6),d.Pb(),d.Qb(7,"p",13),d.uc(8),d.Pb(),d.Qb(9,"div",16),d.Qb(10,"ion-button",17),d.Yb("click",(function(){return d.nc(t),d.ac().saveShippingAdress()})),d.uc(11),d.bc(12,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()}if(2&t){const t=d.ac();d.zb(4),d.wc("",t.getSelectedAdress().ContactFirstName," "),d.zb(2),d.vc(t.getSelectedAdress().FirstLineAddress),d.zb(2),d.xc("",t.getSelectedAdress().ZipCode," ",t.getSelectedAdress().City,""),d.zb(3),d.vc(d.cc(12,5,"select-shipping-adress.Confirmer"))}}const m=[{path:"",component:(()=>{class t extends c.a{constructor(t,s,e,r,i,a,n,o,c){super(),this.navCtrl=t,this.network=s,this.toastCtrl=e,this.rest=r,this.utils=i,this.loadingCtrl=a,this.storage=n,this.translateService=o,this.router=c,this.adressList=[]}ngOnInit(){const t=Object.create(null,{showLoading:{get:()=>super.showLoading},showToast:{get:()=>super.showToast}});return Object(o.a)(this,void 0,void 0,(function*(){if(this.previousPage=this.router.snapshot.queryParams.CurrentPage,"none"!=this.network.type){var s=yield t.showLoading.call(this,this.loadingCtrl,this.translateService.instant("Loading")),e=yield this.utils.getKey("userId");this.rest.GetUserShippingAdress(e).subscribe(e=>{e.Success&&null!=e.Data?(this.adressList=e.Data,null!=this.router.snapshot.queryParams.CurrentAddressId&&this.router.snapshot.queryParams.CurrentAddressId>0&&(this.selectedAdressId=this.router.snapshot.queryParams.CurrentAddressId),console.log(e.Data)):t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),s.dismiss()},e=>{t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),s.dismiss()})}else t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"))}))}ionViewDidEnter(){if(null!=this.router.snapshot.queryParams.type){var t=localStorage.getItem("userId");this.rest.GetUserShippingAdress(t).subscribe(t=>{t.Success&&null!=t.Data?(this.adressList=t.Data,null!=this.router.snapshot.queryParams.CurrentAddressId&&this.router.snapshot.queryParams.CurrentAddressId>0&&(this.selectedAdressId=this.router.snapshot.queryParams.CurrentAddressId),console.log(t.Data)):super.showToast(this.toastCtrl,this.translateService.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translateService.instant("Msg_Error"))})}}addNewAddress(){this.navCtrl.navigateForward("AddAdressPage",{queryParams:{type:"shippingAdress",currentPage:"SelectShippingAdressPage"}})}modifyAdress(t){this.navCtrl.navigateForward("AddAdressPage",{queryParams:{type:"shippingAdress",adress:JSON.stringify(t),currentPage:"SelectShippingAdressPage"}})}saveShippingAdress(){var t=this.getSelectedAdress();this.navCtrl.navigateBack(this.previousPage,{queryParams:{tempSelectedAdress:JSON.stringify(t)}})}getSelectedAdress(){return this.adressList.find(t=>t.Id==this.selectedAdressId)}}return t.\u0275fac=function(s){return new(s||t)(d.Kb(a.ab),d.Kb(l.a),d.Kb(a.fb),d.Kb(b.a),d.Kb(u.a),d.Kb(a.Y),d.Kb(h.b),d.Kb(p.d),d.Kb(n.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-select-shipping-adress"]],features:[d.wb],decls:15,vars:9,consts:[["slot","start"],["float-right","",1,"ion-float-right",2,"margin","10px 10px",3,"click"],[2,"margin-top","30px","clear","both"],[1,"example-radio-group",3,"ngModel","ngModelChange"],["class","productCard",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"productCard"],[1,"gridStyle",2,"background-color","white"],[1,"colStyle"],["size","2","col-2","",1,"align-text-middle","colStyle"],["color","primary",1,"example-radio-button",2,"color","#534d7a","margin-top","30px",3,"checked","value"],["size","10","col-10","",1,"colStyle"],["float-right","",1,"ion-float-right",3,"click"],[1,"addressDetail"],[2,"padding-bottom","0px"],[2,"padding","5px"],[1,"ion-text-center"],["size","small","color","primary",2,"width","100%",3,"click"]],template:function(t,s){1&t&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar"),d.Qb(2,"ion-buttons",0),d.Lb(3,"ion-back-button"),d.Pb(),d.Qb(4,"ion-title"),d.uc(5),d.bc(6,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Qb(7,"ion-content"),d.Qb(8,"a",1),d.Yb("click",(function(){return s.addNewAddress()})),d.uc(9),d.bc(10,"translate"),d.Pb(),d.Qb(11,"ion-list",2),d.Qb(12,"mat-radio-group",3),d.Yb("ngModelChange",(function(t){return s.selectedAdressId=t})),d.tc(13,P,21,12,"div",4),d.Pb(),d.Pb(),d.Pb(),d.tc(14,f,13,7,"ion-footer",5)),2&t&&(d.zb(5),d.vc(d.cc(6,5,"select-shipping-adress.Livraison")),d.zb(4),d.vc(d.cc(10,7,"select-shipping-adress.Ajouter")),d.zb(3),d.gc("ngModel",s.selectedAdressId),d.zb(1),d.gc("ngForOf",s.adressList),d.zb(1),d.gc("ngIf",null!=s.getSelectedAdress()))},directives:[a.t,a.V,a.i,a.e,a.f,a.U,a.q,a.B,g.b,i.i,i.l,r.j,r.k,a.s,a.H,a.p,g.a,a.r,a.h],pipes:[p.c],styles:[".addressDetail[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.gridStyle[_ngcontent-%COMP%]{border-bottom:1px solid grey}"]}),t})()}];let v=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(s){return new(s||t)},imports:[[n.i.forChild(m)],n.i]}),t})(),A=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(s){return new(s||t)},imports:[[r.b,i.e,a.W,v,g.c,p.b]]}),t})()}}]);