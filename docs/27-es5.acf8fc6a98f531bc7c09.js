!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,o){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(r):n.value}})(e,t,o||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=i(e);if(t){var n=i(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return a(this,r)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{KX34:function(a,c,s){"use strict";s.r(c),s.d(c,"RegistrePageModule",(function(){return B}));var l=s("ofXK"),b=s("3Pt+"),u=s("TEn/"),m=s("tyNb"),p=s("mrSG"),f=s("n3qt"),d=s("/uUt"),h=s("Kj3r"),g=s("eIep"),P=s("lJxs"),v=s("SxV6"),y=s("fXoL"),C=s("sYmb"),w=s("MDGB"),q=s("kwrG"),Q=s("xHqg"),I=s("kmnG"),F=s("qFsG"),z=s("bTqV"),N=s("d3UM"),L=s("FKr1");function k(e,t){1&e&&(y.uc(0),y.bc(1,"translate")),2&e&&y.vc(y.cc(1,1,"registre.Compte"))}function x(e,t){1&e&&(y.Qb(0,"mat-error"),y.uc(1),y.bc(2,"translate"),y.Pb()),2&e&&(y.zb(1),y.wc(" ",y.cc(2,1,"registre.Error_UserAlreadyExists")," "))}function O(e,t){1&e&&(y.Qb(0,"mat-error"),y.uc(1),y.bc(2,"translate"),y.Pb()),2&e&&(y.zb(1),y.wc(" ",y.cc(2,1,"registre.Warming_PleaseEntreCorrectEmail")," "))}function E(e,t){1&e&&(y.Qb(0,"mat-error"),y.uc(1),y.bc(2,"translate"),y.Pb()),2&e&&(y.zb(1),y.wc(" ",y.cc(2,1,"registre.Warming_AtLeast8Characters")," "))}function S(e,t){1&e&&(y.Qb(0,"div",31),y.uc(1),y.bc(2,"translate"),y.Pb()),2&e&&(y.zb(1),y.wc(" ",y.cc(2,1,"registre.Warming_PasswordsMustMatch")," "))}function j(e,t){1&e&&(y.uc(0),y.bc(1,"translate")),2&e&&y.vc(y.cc(1,1,"registre.Entreprise"))}function R(e,t){1&e&&(y.uc(0),y.bc(1,"translate")),2&e&&y.vc(y.cc(1,1,"registre.Address"))}var _,A,T,M=[{path:"",component:(_=function(a){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,a);var c,s,l,u=n(m);function m(t,r,o,n,a,i,c){var s;return e(this,m),(s=u.call(this)).navCtrl=t,s.translateService=r,s.formBuilder=o,s.rest=n,s.network=a,s.toastCtrl=i,s.loadingCtrl=c,s.basicInfoForm=s.formBuilder.group({email:["",b.q.compose([b.q.required,b.q.email]),s.userNameUniqueValidator()],password:["",b.q.compose([b.q.required,b.q.minLength(8)])],confirmPassword:["",b.q.required]}),s.entrepriseForm=s.formBuilder.group({entrepriseName:["",b.q.required],siret:["",b.q.required],phoneNumber:["",b.q.required]}),s.addressForm=s.formBuilder.group({Id:["0"],FirstLineAddress:["",b.q.required],SecondLineAddress:[""],City:["",b.q.required],CountryId:["",b.q.required],ZipCode:["",b.q.required],ContactTelephone:["",b.q.required],ContactFax:[""],ContactFirstName:["",b.q.required],ContactLastName:["",b.q.required]}),s}return c=m,(s=[{key:"ngOnInit",value:function(){}},{key:"confirmPassword",value:function(){return this.basicInfoForm.get("password").value!=this.basicInfoForm.get("confirmPassword").value}},{key:"userNameUniqueValidator",value:function(){var e=this;return function(t){return t.valueChanges.pipe(Object(d.a)(),Object(h.a)(1e3),Object(g.a)((function(){return e.rest.CheckUserIsAlreadyExistAsync(t.value)})),Object(P.a)((function(e){return 1==e?{duplicate:!0}:null})),Object(v.a)())}}},{key:"isAlreadyExists",value:function(){return this.basicInfoForm.get("email").hasError("duplicate")}},{key:"registre",value:function(){var e=this,t=Object.create(null,{showToast:{get:function(){return r(i(m.prototype),"showToast",e)}}});return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,o,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.basicInfoForm.valid&&this.entrepriseForm.valid&&this.addressForm.valid)||this.confirmPassword()){e.next=12;break}if(r={Email:this.basicInfoForm.value.email,Password:this.basicInfoForm.value.password,Siret:this.entrepriseForm.value.siret,EntrepriseName:this.entrepriseForm.value.entrepriseName,PhoneNumber:this.entrepriseForm.value.phoneNumber,FacturationAdress:this.addressForm.value,ShipmentAdress:this.addressForm.value},"none"==this.network.type){e.next=9;break}return e.next=5,this.showLoading(this.loadingCtrl,this.translateService.instant("Loading"));case 5:o=e.sent,this.rest.Registre(r).subscribe((function(e){return Object(p.a)(n,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.Success?this.navCtrl.navigateRoot("RegistreSuccedPage",{queryParams:{email:e.DataExt,page:"RegistrePage"}}):t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),o.dismiss();case 1:case"end":return r.stop()}}),r,this)})))}),(function(e){t.showToast.call(n,n.toastCtrl,n.translateService.instant("Msg_Error")),o.dismiss()})),e.next=10;break;case 9:t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"));case 10:e.next=13;break;case 12:t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_SomeErrorInForm"));case 13:case"end":return e.stop()}}),e,this)})))}},{key:"basicInfoFormCtrl",get:function(){return this.basicInfoForm.controls}},{key:"entrepriseFormCtrl",get:function(){return this.entrepriseForm.controls}},{key:"addressFormCtrl",get:function(){return this.addressForm.controls}}])&&t(c.prototype,s),l&&t(c,l),m}(f.a),_.\u0275fac=function(e){return new(e||_)(y.Kb(u.ab),y.Kb(C.d),y.Kb(b.b),y.Kb(w.a),y.Kb(q.a),y.Kb(u.fb),y.Kb(u.Y))},_.\u0275cmp=y.Eb({type:_,selectors:[["app-registre"]],features:[y.wb],decls:106,vars:76,consts:[["slot","start"],["defaultHref","/tabs/tabMyAccount"],[2,"background-color","#f4f4f4!important"],["linear","true"],["stepper","matHorizontalStepper"],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["matInput","","formControlName","email","required","",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","password","required","","type","password",3,"placeholder"],["matInput","","formControlName","confirmPassword","required","","type","password",3,"placeholder"],["style","color: red; margin-bottom: 7px;",4,"ngIf"],["mat-raised-button","","color","primary","matStepperNext",""],["matInput","","formControlName","entrepriseName","required","",3,"placeholder"],["matInput","","formControlName","siret","required","",3,"placeholder"],["matPrefix",""],["matInput","","required","","type","tel","matInput","","formControlName","phoneNumber",3,"placeholder"],["mat-raised-button","","color","warn","matStepperPrevious",""],["col-6",""],["matInput","","formControlName","ContactFirstName","required","",3,"placeholder"],["matInput","","formControlName","ContactLastName","required","",3,"placeholder"],["matInput","","formControlName","FirstLineAddress","required","",3,"placeholder"],["matInput","","formControlName","SecondLineAddress",3,"placeholder"],["required","","matNativeControl","","formControlName","CountryId"],[3,"value"],["matInput","","formControlName","City","required","",3,"placeholder"],["matInput","","formControlName","ZipCode","required","",3,"placeholder"],["matInput","","required","","type","tel","matInput","","formControlName","ContactTelephone",3,"placeholder"],["matInput","","type","tel","matInput","","formControlName","ContactFax",3,"placeholder"],["mat-raised-button","","color","primary",3,"click"],[2,"color","red","margin-bottom","7px"]],template:function(e,t){1&e&&(y.Qb(0,"ion-header"),y.Qb(1,"ion-toolbar"),y.Qb(2,"ion-buttons",0),y.Lb(3,"ion-back-button",1),y.Pb(),y.Qb(4,"ion-title"),y.uc(5),y.bc(6,"translate"),y.Pb(),y.Pb(),y.Pb(),y.Qb(7,"ion-content",2),y.Qb(8,"mat-horizontal-stepper",3,4),y.Qb(10,"mat-step",5),y.Qb(11,"form",6),y.tc(12,k,2,3,"ng-template",7),y.Qb(13,"mat-form-field"),y.Lb(14,"input",8),y.bc(15,"translate"),y.tc(16,x,3,3,"mat-error",9),y.tc(17,O,3,3,"mat-error",9),y.Pb(),y.Qb(18,"mat-form-field"),y.Lb(19,"input",10),y.bc(20,"translate"),y.tc(21,E,3,3,"mat-error",9),y.Pb(),y.Qb(22,"mat-form-field"),y.Lb(23,"input",11),y.bc(24,"translate"),y.Pb(),y.tc(25,S,3,3,"div",12),y.Qb(26,"div"),y.Qb(27,"button",13),y.uc(28),y.bc(29,"translate"),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Qb(30,"mat-step",5),y.Qb(31,"form",6),y.tc(32,j,2,3,"ng-template",7),y.Qb(33,"mat-form-field"),y.Lb(34,"input",14),y.bc(35,"translate"),y.Pb(),y.Qb(36,"mat-form-field"),y.Lb(37,"input",15),y.bc(38,"translate"),y.Pb(),y.Qb(39,"mat-form-field"),y.Qb(40,"span",16),y.uc(41,"+33 \xa0"),y.Pb(),y.Lb(42,"input",17),y.bc(43,"translate"),y.Pb(),y.Qb(44,"div"),y.Qb(45,"button",18),y.uc(46),y.bc(47,"translate"),y.Pb(),y.Qb(48,"button",13),y.uc(49),y.bc(50,"translate"),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Qb(51,"mat-step",5),y.Qb(52,"form",6),y.tc(53,R,2,3,"ng-template",7),y.Qb(54,"ion-row"),y.Qb(55,"ion-col",19),y.Qb(56,"mat-form-field"),y.Lb(57,"input",20),y.bc(58,"translate"),y.Pb(),y.Pb(),y.Qb(59,"ion-col",19),y.Qb(60,"mat-form-field"),y.Lb(61,"input",21),y.bc(62,"translate"),y.Pb(),y.Pb(),y.Pb(),y.Qb(63,"mat-form-field"),y.Lb(64,"input",22),y.bc(65,"translate"),y.Pb(),y.Qb(66,"mat-form-field"),y.Lb(67,"input",23),y.bc(68,"translate"),y.Pb(),y.Qb(69,"mat-form-field"),y.Qb(70,"mat-label"),y.uc(71),y.bc(72,"translate"),y.Pb(),y.Qb(73,"mat-select",24),y.Qb(74,"mat-option",25),y.uc(75," France "),y.Pb(),y.Qb(76,"mat-option",25),y.uc(77," Belgique "),y.Pb(),y.Qb(78,"mat-option",25),y.uc(79," Espagnol "),y.Pb(),y.Pb(),y.Pb(),y.Qb(80,"ion-row"),y.Qb(81,"ion-col",19),y.Qb(82,"mat-form-field"),y.Lb(83,"input",26),y.bc(84,"translate"),y.Pb(),y.Pb(),y.Qb(85,"ion-col",19),y.Qb(86,"mat-form-field"),y.Lb(87,"input",27),y.bc(88,"translate"),y.Pb(),y.Pb(),y.Pb(),y.Qb(89,"mat-form-field"),y.Qb(90,"span",16),y.uc(91,"+33 \xa0"),y.Pb(),y.Lb(92,"input",28),y.bc(93,"translate"),y.Pb(),y.Qb(94,"mat-form-field"),y.Qb(95,"span",16),y.uc(96,"+33 \xa0"),y.Pb(),y.Lb(97,"input",29),y.bc(98,"translate"),y.Pb(),y.Qb(99,"div"),y.Qb(100,"button",18),y.uc(101),y.bc(102,"translate"),y.Pb(),y.Qb(103,"button",30),y.Yb("click",(function(){return t.registre()})),y.uc(104),y.bc(105,"translate"),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Pb()),2&e&&(y.zb(5),y.vc(y.cc(6,34,"registre.Title")),y.zb(5),y.gc("stepControl",t.basicInfoForm),y.zb(1),y.gc("formGroup",t.basicInfoForm),y.zb(3),y.hc("placeholder",y.cc(15,36,"registre.Email")),y.zb(2),y.gc("ngIf",t.isAlreadyExists()),y.zb(1),y.gc("ngIf",t.basicInfoFormCtrl.email.errors&&!t.isAlreadyExists()),y.zb(2),y.hc("placeholder",y.cc(20,38,"registre.Password")),y.zb(2),y.gc("ngIf",t.basicInfoFormCtrl.password.errors),y.zb(2),y.hc("placeholder",y.cc(24,40,"registre.Password")),y.zb(2),y.gc("ngIf",t.confirmPassword()),y.zb(3),y.vc(y.cc(29,42,"registre.Next")),y.zb(2),y.gc("stepControl",t.entrepriseForm),y.zb(1),y.gc("formGroup",t.entrepriseForm),y.zb(3),y.hc("placeholder",y.cc(35,44,"registre.CompanyName")),y.zb(3),y.hc("placeholder",y.cc(38,46,"registre.Siret")),y.zb(5),y.hc("placeholder",y.cc(43,48,"registre.PhoneNumber")),y.zb(4),y.vc(y.cc(47,50,"registre.Back")),y.zb(3),y.vc(y.cc(50,52,"registre.Next")),y.zb(2),y.gc("stepControl",t.addressForm),y.zb(1),y.gc("formGroup",t.addressForm),y.zb(5),y.hc("placeholder",y.cc(58,54,"registre.Firstname")),y.zb(4),y.hc("placeholder",y.cc(62,56,"registre.Lastname")),y.zb(3),y.hc("placeholder",y.cc(65,58,"registre.AddressLine1")),y.zb(3),y.hc("placeholder",y.cc(68,60,"registre.AddressLine2")),y.zb(4),y.vc(y.cc(72,62,"registre.Country")),y.zb(3),y.gc("value",1),y.zb(2),y.gc("value",2),y.zb(2),y.gc("value",3),y.zb(5),y.hc("placeholder",y.cc(84,64,"registre.City")),y.zb(4),y.hc("placeholder",y.cc(88,66,"registre.ZipCode")),y.zb(5),y.hc("placeholder",y.cc(93,68,"registre.PhoneNumber")),y.zb(5),y.hc("placeholder",y.cc(98,70,"registre.Fax")),y.zb(4),y.vc(y.cc(102,72,"registre.Back")),y.zb(3),y.vc(y.cc(105,74,"registre.Registre")))},directives:[u.t,u.V,u.i,u.e,u.f,u.U,u.q,Q.a,Q.b,b.r,b.j,b.d,Q.c,I.c,F.a,b.a,b.i,b.c,b.p,l.k,z.a,Q.e,I.g,Q.f,u.H,u.p,I.f,N.a,L.f,I.b],pipes:[C.c],styles:[".requiredLabel[_ngcontent-%COMP%]{color:#f53d3d}.mat-form-field[_ngcontent-%COMP%]{display:inline}"]}),_)}],K=((A=function t(){e(this,t)}).\u0275mod=y.Ib({type:A}),A.\u0275inj=y.Hb({factory:function(e){return new(e||A)},imports:[[m.i.forChild(M)],m.i]}),A),G=s("NFeN"),B=((T=function t(){e(this,t)}).\u0275mod=y.Ib({type:T}),T.\u0275inj=y.Hb({factory:function(e){return new(e||T)},imports:[[l.b,b.e,u.W,K,I.e,F.b,Q.d,z.b,G.b,C.b,N.b,b.e,b.o]]}),T)}}])}();