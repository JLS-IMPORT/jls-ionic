(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"8xOR":function(t,e,a){"use strict";a.r(e),a.d(e,"ReadOrderDetailsPageModule",(function(){return w}));var r=a("ofXK"),n=a("3Pt+"),c=a("TEn/"),i=a("tyNb"),s=a("mrSG"),o=a("n3qt"),b=a("AytR"),d=a("fXoL"),l=a("MDGB"),u=a("kwrG"),p=a("sYmb");function P(t,e){1&t&&(d.Qb(0,"ion-card-header"),d.Qb(1,"h3"),d.uc(2),d.bc(3,"translate"),d.Pb(),d.Pb()),2&t&&(d.zb(2),d.vc(d.cc(3,1,"read-order-details.YourOrder")))}function h(t,e){if(1&t&&d.Lb(0,"img",22),2&t){const t=d.ac().$implicit,e=d.ac();d.gc("src",e.host+t.DefaultPhotoPath,d.oc)}}function g(t,e){1&t&&d.Lb(0,"img",23)}function m(t,e){if(1&t&&(d.Qb(0,"ion-card",6),d.tc(1,P,4,3,"ion-card-header",15),d.Qb(2,"ion-card-content"),d.Qb(3,"div"),d.Qb(4,"ion-row"),d.Qb(5,"ion-col",16),d.tc(6,h,1,1,"img",17),d.tc(7,g,1,0,"img",18),d.Pb(),d.Qb(8,"ion-col",19),d.Qb(9,"h6",20),d.uc(10),d.Pb(),d.Qb(11,"p",8),d.uc(12),d.bc(13,"translate"),d.Pb(),d.Qb(14,"p",8),d.uc(15),d.bc(16,"translate"),d.Pb(),d.Qb(17,"p",8),d.uc(18),d.bc(19,"translate"),d.Pb(),d.Qb(20,"p",8),d.uc(21),d.bc(22,"translate"),d.Pb(),d.Lb(23,"br"),d.Qb(24,"div"),d.uc(25),d.bc(26,"translate"),d.Qb(27,"p",21),d.uc(28),d.bc(29,"number"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t){const t=e.$implicit,a=e.index;d.zb(1),d.gc("ngIf",0==a),d.zb(5),d.gc("ngIf",null!=t.DefaultPhotoPath),d.zb(1),d.gc("ngIf",null==t.DefaultPhotoPath),d.zb(3),d.vc(t.Label),d.zb(2),d.xc("",d.cc(13,15,"read-order-details.Referene"),": ",t.Code,""),d.zb(3),d.xc("",d.cc(16,17,"read-order-details.Size"),": ",t.Size,""),d.zb(3),d.xc("",d.cc(19,19,"read-order-details.Material"),": ",t.Material,""),d.zb(3),d.xc("",d.cc(22,21,"read-order-details.Color"),": ",t.Color,""),d.zb(4),d.xc("",d.cc(26,23,"read-order-details.Quantity")," x",t.Quantity,""),d.zb(3),d.wc("",d.dc(29,25,t.Price,"1.2-2"),"\u20ac")}}function Q(t,e){if(1&t&&(d.Qb(0,"ion-list",5),d.Qb(1,"ion-card",6),d.Qb(2,"ion-card-header",7),d.Qb(3,"h3"),d.Qb(4,"b"),d.uc(5),d.bc(6,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Qb(7,"ion-card-content"),d.Qb(8,"p",8),d.uc(9),d.Pb(),d.Qb(10,"p",8),d.uc(11),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t){const t=d.ac();d.zb(5),d.vc(d.cc(6,3,"read-order-details.CustomerRemark")),d.zb(4),d.wc("",t.ClientRemark.Text," "),d.zb(2),d.vc(t.ClientRemark.UpdatedOn)}}function f(t,e){if(1&t&&(d.Qb(0,"ion-list",24),d.Qb(1,"ion-card",6),d.Qb(2,"ion-card-header",7),d.Qb(3,"h3"),d.Qb(4,"b"),d.uc(5),d.bc(6,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Qb(7,"ion-card-content"),d.Qb(8,"p",8),d.uc(9),d.Pb(),d.Qb(10,"p",8),d.uc(11),d.bc(12,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t){const t=d.ac();d.zb(5),d.wc("",d.cc(6,4,"read-order-details.AdminRemark"),":"),d.zb(4),d.wc("",t.AdminRemark.Text," "),d.zb(2),d.xc("",d.cc(12,6,"read-order-details.MiseAJour"),": ",t.AdminRemark.UpdatedOn,"")}}const z=[{path:"",component:(()=>{class t extends o.a{constructor(t,e,a,r,n,c,i){super(),this.navCtrl=t,this.rest=e,this.network=a,this.toastCtrl=r,this.loadingCtrl=n,this.translateService=c,this.router=i,this.host=b.a.SERVER_API_URL,this.OrderInfo={},this.ShippingAdress={},this.FacturationAdress={},this.Status={},this.ProductList=[],this.ClientRemark=null,this.AdminRemark=null,this.ShippingMessage="France de port 1500\u20acHT, 2000\u20acHT pour le sud de la France et 2500\u20acHT pour les \xe9tangers.",this.TaxRate=0}ngOnInit(){this.OrderId=this.router.snapshot.queryParams.OrderId,this.loadOrderDetail()}loadOrderDetail(){const t=Object.create(null,{showToast:{get:()=>super.showToast}});return Object(s.a)(this,void 0,void 0,(function*(){if("none"!=this.network.type){var e=yield this.showLoading(this.loadingCtrl,this.translateService.instant("Loading"));this.rest.GetOrdersListByOrderId(this.OrderId).subscribe(a=>{a.Success&&null!=a.Data?(null!=a.Data.OrderInfo&&(this.OrderInfo=a.Data.OrderInfo),null!=a.Data.FacturationAdress&&(this.FacturationAdress=a.Data.FacturationAdress),null!=a.Data.ShippingAdress&&(this.ShippingAdress=a.Data.ShippingAdress),null!=a.Data.Status&&(this.Status=a.Data.Status),null!=a.Data.ProductList&&(this.ProductList=a.Data.ProductList),null!=a.Data.TaxRate&&(this.TaxRate=a.Data.TaxRate.Value),null!=a.Data.ClientRemark&&(this.ClientRemark=a.Data.ClientRemark),null!=a.Data.AdminRemark&&(this.AdminRemark=a.Data.AdminRemark),null!=a.Data.ShippingMessage&&(this.ShippingMessage=a.Data.ShippingMessage)):t.showToast.call(this,this.toastCtrl,a.Msg),e.dismiss()},a=>{e.dismiss(),t.showToast.call(this,this.toastCtrl,a.Msg)},()=>this.loading=!1)}else t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"))}))}calculBasicTotalPrice(){var t=0;return null!=this.ProductList&&null!=this.OrderInfo.TotalPrice?this.ProductList.forEach(e=>{null!=e.Quantity&&null!=e.Price&&(t+=e.Quantity*e.Price)}):t=this.OrderInfo.TotalPrice,t}ContactUs(){this.navCtrl.navigateForward("ContactUsPage",{queryParams:{OrderId:this.OrderInfo.Id,Page:"ReadOrderDetailsPage"}})}getStatusClass(t){var e="warning";switch(t){case"OrderStatus_Valid":e="secondary";break;case"OrderStatus_Refus":e="danger";break;case"OrderStatus_Progressing":e="warning"}return e}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(c.ab),d.Kb(l.a),d.Kb(u.a),d.Kb(c.fb),d.Kb(c.Y),d.Kb(p.d),d.Kb(i.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-read-order-details"]],features:[d.wb],decls:102,vars:73,consts:[["slot","start"],[1,"ion-padding"],[2,"color","white",3,"color"],[1,"buttonLine",3,"click"],["class","productCard",4,"ngFor","ngForOf"],[1,"ion-margin-top"],[1,"productCard"],[1,"addressStyle"],[1,"descriptionFont"],["class","ion-margin-top",4,"ngIf"],["style","margin-bottom: 20px;","class","ion-margin-top",4,"ngIf"],["role","alert",1,"alert","alert-success","ion-margin-top"],[1,"expenseFont"],["float-right","",1,"ion-float-right"],[1,"totalCommande","expenseFont"],[4,"ngIf"],["size","4","col-4",""],["class","align-text-middle",3,"src",4,"ngIf"],["class","align-text-middle","src","assets/imgs/not-found.png",4,"ngIf"],["size","8","col-8",""],[1,"productTitleFont"],["float-right","",1,"sommeStyle"],[1,"align-text-middle",3,"src"],["src","assets/imgs/not-found.png",1,"align-text-middle"],[1,"ion-margin-top",2,"margin-bottom","20px"]],template:function(t,e){1&t&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar"),d.Qb(2,"ion-title"),d.uc(3),d.bc(4,"translate"),d.Pb(),d.Qb(5,"ion-buttons",0),d.Lb(6,"ion-back-button"),d.Pb(),d.Pb(),d.Pb(),d.Qb(7,"ion-content",1),d.Qb(8,"h6"),d.uc(9),d.bc(10,"translate"),d.Pb(),d.Qb(11,"p"),d.Qb(12,"b"),d.uc(13),d.bc(14,"translate"),d.Pb(),d.uc(15),d.Pb(),d.Qb(16,"p"),d.Qb(17,"b"),d.uc(18),d.bc(19,"translate"),d.Pb(),d.Qb(20,"ion-badge",2),d.uc(21),d.Pb(),d.Pb(),d.Qb(22,"p"),d.uc(23),d.bc(24,"translate"),d.Lb(25,"br"),d.Qb(26,"a",3),d.Yb("click",(function(){return e.ContactUs()})),d.uc(27),d.bc(28,"translate"),d.Pb(),d.Pb(),d.Qb(29,"ion-list"),d.tc(30,m,30,28,"ion-card",4),d.Pb(),d.Qb(31,"ion-list",5),d.Qb(32,"ion-card",6),d.Qb(33,"ion-card-header",7),d.Qb(34,"h3"),d.Qb(35,"b"),d.uc(36),d.bc(37,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Qb(38,"ion-card-content"),d.Qb(39,"p",8),d.uc(40),d.Pb(),d.Qb(41,"p",8),d.uc(42),d.Pb(),d.Qb(43,"p",8),d.uc(44),d.Pb(),d.Qb(45,"p",8),d.uc(46),d.Pb(),d.Qb(47,"p",8),d.uc(48),d.Pb(),d.Qb(49,"p",8),d.uc(50),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(51,"ion-list",5),d.Qb(52,"ion-card",6),d.Qb(53,"ion-card-header",7),d.Qb(54,"h3"),d.Qb(55,"b"),d.uc(56),d.bc(57,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Qb(58,"ion-card-content"),d.Qb(59,"p",8),d.uc(60),d.Pb(),d.Qb(61,"p",8),d.uc(62),d.Pb(),d.Qb(63,"p",8),d.uc(64),d.Pb(),d.Qb(65,"p",8),d.uc(66),d.Pb(),d.Qb(67,"p",8),d.uc(68),d.Pb(),d.Qb(69,"p",8),d.uc(70),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.tc(71,Q,12,5,"ion-list",9),d.tc(72,f,13,8,"ion-list",10),d.Qb(73,"div",11),d.uc(74),d.Pb(),d.Qb(75,"ion-list"),d.Qb(76,"ion-card",6),d.Qb(77,"ion-card-content"),d.Qb(78,"p",12),d.uc(79),d.bc(80,"translate"),d.Qb(81,"span",13),d.uc(82),d.bc(83,"number"),d.Pb(),d.Pb(),d.Qb(84,"p",12),d.uc(85),d.bc(86,"translate"),d.Qb(87,"span",13),d.uc(88),d.bc(89,"number"),d.Pb(),d.Pb(),d.Qb(90,"P",12),d.uc(91),d.bc(92,"translate"),d.Qb(93,"span",13),d.uc(94),d.bc(95,"translate"),d.Pb(),d.Pb(),d.Qb(96,"p",14),d.uc(97),d.bc(98,"translate"),d.Qb(99,"span",13),d.uc(100),d.bc(101,"number"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.zb(3),d.vc(d.cc(4,38,"read-order-details.Title")),d.zb(6),d.xc("",d.cc(10,40,"read-order-details.OrderNumber")," n\xb0",e.OrderInfo.Id," "),d.zb(4),d.wc("",d.cc(14,42,"read-order-details.DateOfPurchase"),": "),d.zb(2),d.vc(e.OrderInfo.CreatedOn),d.zb(3),d.wc("",d.cc(19,44,"read-order-details.Status"),": "),d.zb(2),d.gc("color",e.getStatusClass(e.Status.Code)),d.zb(1),d.wc(" ",e.Status.Label,""),d.zb(2),d.wc("",d.cc(24,46,"read-order-details.ForEditYourOrder")," "),d.zb(4),d.vc(d.cc(28,48,"read-order-details.ContactOurCustomerService")),d.zb(3),d.gc("ngForOf",e.ProductList),d.zb(6),d.vc(d.cc(37,50,"read-order-details.ShippingAddress")),d.zb(4),d.wc("",e.ShippingAdress.ContactFirstName," "),d.zb(2),d.vc(e.ShippingAdress.ContactLastName),d.zb(2),d.vc(e.ShippingAdress.FirstLineAddress),d.zb(2),d.vc(e.ShippingAdress.SecondLineAddress),d.zb(2),d.xc("",e.ShippingAdress.ZipCode," ",e.ShippingAdress.City," "),d.zb(2),d.vc(e.ShippingAdress.ContactTelephone),d.zb(6),d.vc(d.cc(57,52,"read-order-details.BillingAddress")),d.zb(4),d.wc("",e.FacturationAdress.ContactFirstName," "),d.zb(2),d.vc(e.FacturationAdress.ContactLastName),d.zb(2),d.vc(e.FacturationAdress.FirstLineAddress),d.zb(2),d.vc(e.FacturationAdress.SecondLineAddress),d.zb(2),d.xc("",e.FacturationAdress.ZipCode," ",e.FacturationAdress.City," "),d.zb(2),d.vc(e.FacturationAdress.ContactTelephone),d.zb(1),d.gc("ngIf",null!=e.ClientRemark),d.zb(1),d.gc("ngIf",null!=e.AdminRemark),d.zb(2),d.wc(" ",e.ShippingMessage," "),d.zb(5),d.wc("",d.cc(80,54,"read-order-details.SommeBeforeTaxe"),":"),d.zb(3),d.wc("",d.dc(83,56,e.calculBasicTotalPrice(),"1.2-2"),"\u20ac"),d.zb(3),d.wc("",d.cc(86,59,"read-order-details.TVA"),":"),d.zb(3),d.wc("",d.dc(89,61,.01*e.TaxRate*e.calculBasicTotalPrice(),"1.2-2"),"\u20ac "),d.zb(3),d.wc("",d.cc(92,64,"read-order-details.ShippingCost"),": "),d.zb(3),d.wc(" ",d.cc(95,66,"read-order-details.Aestimer"),""),d.zb(3),d.wc("",d.cc(98,68,"read-order-details.AmountOfOrder"),":"),d.zb(3),d.wc("",d.dc(101,70,e.calculBasicTotalPrice()*(1+.01*e.TaxRate),"1.2-2"),"\u20ac"))},directives:[c.t,c.V,c.U,c.i,c.e,c.f,c.q,c.g,c.B,r.j,c.j,c.l,c.k,r.k,c.H,c.p],pipes:[p.c,r.d],styles:["b[_ngcontent-%COMP%]{font-weight:500}.buttonLine[_ngcontent-%COMP%]{color:#000;text-decoration:underline}.productCard[_ngcontent-%COMP%]{margin:0;width:100%;border:1px solid #a9a9a9}ion-content[_ngcontent-%COMP%]{background:#fff!important}.sommeStyle[_ngcontent-%COMP%]{margin-right:20%}.totalCommande[_ngcontent-%COMP%]{border-top:1px solid;border-bottom:1px solid;padding:8px 0;margin-top:15px!important}.expenseFont[_ngcontent-%COMP%]{margin:7px;font-weight:900}.addressStyle[_ngcontent-%COMP%]{padding-bottom:5px!important}"]}),t})()}];let C=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(z)],i.i]}),t})(),w=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},imports:[[r.b,n.e,c.W,C,p.b]]}),t})()}}]);