(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{JzUc:function(t,e,r){"use strict";r.r(e),r.d(e,"AddAdressPageModule",(function(){return q}));var s=r("ofXK"),a=r("3Pt+"),o=r("TEn/"),i=r("tyNb"),n=r("mrSG"),l=r("n3qt"),d=r("fXoL"),c=r("sYmb"),b=r("kwrG"),h=r("MDGB"),u=r("x7k0"),m=r("e8h1"),p=r("kmnG"),f=r("qFsG"),C=r("d3UM"),g=r("FKr1");function P(t,e){1&t&&(d.Qb(0,"ion-title"),d.uc(1),d.bc(2,"translate"),d.Pb()),2&t&&(d.zb(1),d.vc(d.cc(2,1,"add-adress.addAdress")))}function y(t,e){1&t&&(d.Qb(0,"ion-title"),d.uc(1),d.bc(2,"translate"),d.Pb()),2&t&&(d.zb(1),d.vc(d.cc(2,1,"add-adress.modifyAdress")))}const v=[{path:"",component:(()=>{class t extends l.a{constructor(t,e,r,s,o,i,n,l,d,c){super(),this.navCtrl=t,this.translateService=e,this.network=r,this.formBuilder=s,this.rest=o,this.toastCtrl=i,this.utils=n,this.loadingCtrl=l,this.storage=d,this.router=c,this.submitted=!1,this.adreeForm=this.formBuilder.group({Id:["0"],EntrepriseName:["",a.q.required],ContactFirstName:["",a.q.required],ContactLastName:["",a.q.required],FirstLineAddress:["",a.q.required],SecondLineAddress:[""],City:["",a.q.required],CountryId:["",a.q.required],ZipCode:["",a.q.required],ContactTelephone:["",a.q.required],ContactFax:[""]})}ngOnInit(){if(this.previousPage=this.router.snapshot.queryParams.currentPage,this.type=this.router.snapshot.queryParams.type,null!=this.router.snapshot.queryParams.adress)var t=JSON.parse(this.router.snapshot.queryParams.adress);null!=t?(console.log(t),this.adreeForm.patchValue({Id:t.Id||0,EntrepriseName:t.EntrepriseName,ContactFirstName:t.ContactFirstName,ContactLastName:t.ContactLastName,FirstLineAddress:t.FirstLineAddress,SecondLineAddress:t.SecondLineAddress,City:t.City,CountryId:null!=t.CountryId?t.CountryId:1,ZipCode:t.ZipCode,ContactTelephone:t.ContactTelephone,ContactFax:t.ContactFax})):this.loadUserInfo()}loadUserInfo(){const t=Object.create(null,{showLoading:{get:()=>super.showLoading},showToast:{get:()=>super.showToast}});return Object(n.a)(this,void 0,void 0,(function*(){if("none"!=this.network.type){console.log(this.adreeForm.value);var e=yield t.showLoading.call(this,this.loadingCtrl,this.translateService.instant("Loading"));this.rest.GetUserById(yield this.utils.getKey("userId")).subscribe(r=>{null!=r?this.adreeForm.patchValue({EntrepriseName:null!=r.EntrepriseName?r.EntrepriseName:"",ContactTelephone:null!=r.PhoneNumber?r.PhoneNumber:""}):t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),e.dismiss()},r=>{t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),e.dismiss()})}else t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"))}))}saveAdress(){const t=Object.create(null,{showLoading:{get:()=>super.showLoading},showToast:{get:()=>super.showToast}});return Object(n.a)(this,void 0,void 0,(function*(){this.submitted=!0;for(let t in this.adreeForm.controls)this.adreeForm.controls[t].markAsTouched();if(!this.adreeForm.invalid)if("none"!=this.network.type){console.log(this.adreeForm.value);var e={adress:this.adreeForm.value,userId:yield this.utils.getKey("userId"),type:this.type},r=yield t.showLoading.call(this,this.loadingCtrl,this.translateService.instant("Loading"));this.rest.CreateOrUpdateAdress(e).subscribe(e=>{e.Success&&null!=e.Data?(this.type?(this.storage.set("tempFacturationAdress","true"),this.navCtrl.navigateBack(this.previousPage,{queryParams:{type:this.type,facturationAdress:JSON.stringify(this.adreeForm.value)}})):this.navCtrl.pop(),r.dismiss()):(r.dismiss(),t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")))},e=>{r.dismiss(),t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error"))})}else t.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"))}))}get f(){return this.adreeForm.controls}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(o.ab),d.Kb(c.d),d.Kb(b.a),d.Kb(a.b),d.Kb(h.a),d.Kb(o.fb),d.Kb(u.a),d.Kb(o.Y),d.Kb(m.b),d.Kb(i.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-add-adress"]],features:[d.wb],decls:62,vars:39,consts:[["slot","start"],[4,"ngIf"],[2,"background-color","#f4f4f4!important"],[2,"margin-top","0px","margin-left","0px","margin-right","0px","width","100%"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["required","","matInput","","formControlName","EntrepriseName",3,"placeholder"],["col-6",""],["required","","matInput","","formControlName","ContactFirstName",3,"placeholder"],["required","","matInput","","formControlName","ContactLastName",3,"placeholder"],["required","","matInput","","formControlName","FirstLineAddress",3,"placeholder"],["matInput","","formControlName","SecondLineAddress",3,"placeholder"],["col-4",""],["required","","matInput","","formControlName","City",3,"placeholder"],["required","","formControlName","CountryId",3,"placeholder"],[3,"value"],["required","","matInput","","maxlength","5","formControlName","ZipCode",3,"placeholder"],["postalCode",""],["matPrefix",""],["required","","type","tel","matInput","","formControlName","ContactTelephone",3,"placeholder"],["type","tel","matInput","","formControlName","ContactFax",3,"placeholder"],["text-center",""],["color","primary",2,"width","100%","height","35px",3,"click"]],template:function(t,e){1&t&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar"),d.Qb(2,"ion-buttons",0),d.Lb(3,"ion-back-button"),d.Pb(),d.tc(4,P,3,3,"ion-title",1),d.tc(5,y,3,3,"ion-title",1),d.Pb(),d.Pb(),d.Qb(6,"ion-content",2),d.Qb(7,"ion-card",3),d.Qb(8,"ion-card-content"),d.Qb(9,"form",4),d.Qb(10,"mat-form-field",5),d.Lb(11,"input",6),d.bc(12,"translate"),d.Pb(),d.Qb(13,"ion-row"),d.Qb(14,"ion-col",7),d.Qb(15,"mat-form-field",5),d.Lb(16,"input",8),d.bc(17,"translate"),d.Pb(),d.Pb(),d.Qb(18,"ion-col",7),d.Qb(19,"mat-form-field",5),d.Lb(20,"input",9),d.bc(21,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Qb(22,"mat-form-field",5),d.Lb(23,"textarea",10),d.bc(24,"translate"),d.Pb(),d.Qb(25,"mat-form-field",5),d.Lb(26,"textarea",11),d.bc(27,"translate"),d.Pb(),d.Qb(28,"ion-row"),d.Qb(29,"ion-col",12),d.Qb(30,"mat-form-field",5),d.Lb(31,"input",13),d.bc(32,"translate"),d.Pb(),d.Pb(),d.Qb(33,"ion-col",12),d.Qb(34,"mat-form-field"),d.Qb(35,"mat-select",14),d.bc(36,"translate"),d.Qb(37,"mat-option",15),d.uc(38," France "),d.Pb(),d.Qb(39,"mat-option",15),d.uc(40," Belgique "),d.Pb(),d.Qb(41,"mat-option",15),d.uc(42," Espagnol "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(43,"ion-col",12),d.Qb(44,"mat-form-field",5),d.Lb(45,"input",16,17),d.bc(47,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Qb(48,"mat-form-field",5),d.Qb(49,"span",18),d.uc(50,"+33 \xa0"),d.Pb(),d.Lb(51,"input",19),d.bc(52,"translate"),d.Pb(),d.Qb(53,"mat-form-field",5),d.Qb(54,"span",18),d.uc(55,"+33 \xa0"),d.Pb(),d.Lb(56,"input",20),d.bc(57,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(58,"div",21),d.Qb(59,"ion-button",22),d.Yb("click",(function(){return e.saveAdress()})),d.uc(60),d.bc(61,"translate"),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.zb(4),d.gc("ngIf",0==e.adreeForm.controls.Id.value),d.zb(1),d.gc("ngIf",0!=e.adreeForm.controls.Id.value),d.zb(4),d.gc("formGroup",e.adreeForm),d.zb(2),d.hc("placeholder",d.cc(12,17,"add-adress.Entreprise")),d.zb(5),d.hc("placeholder",d.cc(17,19,"add-adress.Nom")),d.zb(4),d.hc("placeholder",d.cc(21,21,"add-adress.Prenom")),d.zb(3),d.hc("placeholder",d.cc(24,23,"add-adress.Address")),d.zb(3),d.hc("placeholder",d.cc(27,25,"add-adress.Address2")),d.zb(5),d.hc("placeholder",d.cc(32,27,"add-adress.City")),d.zb(4),d.hc("placeholder",d.cc(36,29,"add-adress.Country")),d.zb(2),d.gc("value",1),d.zb(2),d.gc("value",2),d.zb(2),d.gc("value",3),d.zb(4),d.hc("placeholder",d.cc(47,31,"add-adress.PostalCode")),d.zb(6),d.hc("placeholder",d.cc(52,33,"add-adress.Telephone")),d.zb(5),d.hc("placeholder",d.cc(57,35,"add-adress.Fax")),d.zb(4),d.wc(" ",d.cc(61,37,"add-adress.Enregistrer")," "))},directives:[o.t,o.V,o.i,o.e,o.f,s.k,o.q,o.j,o.k,a.r,a.j,a.d,p.c,f.a,a.a,a.p,a.i,a.c,o.H,o.p,C.a,g.f,a.f,p.g,o.h,o.U],pipes:[c.c],styles:[".mat-form-field[_ngcontent-%COMP%]{display:inline}"]}),t})()}];let w=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(v)],i.i]}),t})();var Q=r("NFeN");let q=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},imports:[[s.b,a.e,o.W,w,p.e,f.b,Q.b,C.b,c.b,a.o]]}),t})()}}]);