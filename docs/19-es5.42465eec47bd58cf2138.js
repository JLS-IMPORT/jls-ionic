!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function o(t,n,e){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var o=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(o){var r=Object.getOwnPropertyDescriptor(o,n);return r.get?r.get.call(e):r.value}})(t,n,e||t)}function r(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&i(t,n)}function i(t,n){return(i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,o=s(t);if(n){var r=s(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return a(this,e)}}function a(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{J8OZ:function(n,i,a){"use strict";a.r(i),a.d(i,"MyAccountPageModule",(function(){return _}));var l,u=a("ofXK"),b=a("3Pt+"),f=a("TEn/"),d=a("tyNb"),g=a("mrSG"),m=a("n3qt"),h=a("bVho"),p=a("fXoL"),v=a("MDGB"),P=a("e8h1"),y=a("kwrG"),w=a("sYmb"),k=a("x7k0"),Q=((l=function(n){r(a,n);var i=c(a);function a(n,e,o,r,c,s,l,u,b){var f;return t(this,a),(f=i.call(this)).navCtrl=n,f.loadingCtrl=e,f.rest=o,f.toastCtrl=r,f.storage=c,f.modalCtrl=s,f.network=l,f.translateService=u,f.utils=b,f}return e(a,[{key:"ngOnInit",value:function(){}},{key:"login",value:function(){var t=this,n=Object.create(null,{showToast:{get:function(){return o(s(a.prototype),"showToast",t)}}});return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("none"==this.network.type){t.next=7;break}return t.next=3,this.showLoading(this.loadingCtrl,this.translateService.instant("Loading"));case 3:e=t.sent,this.rest.getNewRefreshToken({Email:this.email,Password:this.password}).subscribe((function(t){null!=t&&null!=t.authToken?(localStorage.setItem("login  Status","1"),localStorage.setItem("jwt",t.authToken.token),localStorage.setItem("username",t.authToken.username),localStorage.setItem("userId",t.authToken.userId),localStorage.setItem("expiration",t.authToken.expiration),localStorage.setItem("userRole",t.authToken.roles),localStorage.setItem("refreshToken",t.authToken.refresh_token),o.storage.set("userId",t.authToken.userId),o.storage.set("jwt",t.authToken.token),o.storage.set("refreshToken",t.authToken.refresh_token),o.utils.isLoginedSubject.next(!0),o.modalCtrl.dismiss()):n.showToast.call(o,o.toastCtrl,o.translateService.instant("Msg_Error")),e.dismiss()}),(function(t){null!=t?null!=t.LoginError&&n.showToast.call(o,o.toastCtrl,o.translateService.instant(t.LoginError)):n.showToast.call(o,o.toastCtrl,o.translateService.instant("Msg_Error")),e.dismiss()})),t.next=8;break;case 7:this.translateService.instant("Msg_Offline");case 8:case"end":return t.stop()}}),t,this)})))}},{key:"registre",value:function(){this.modalCtrl.dismiss(),this.navCtrl.navigateRoot("RegistrePage")}},{key:"findOutPassword",value:function(){this.modalCtrl.dismiss(),this.navCtrl.navigateRoot("ForgetPasswordPage")}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}}]),a}(m.a)).\u0275fac=function(t){return new(t||l)(p.Kb(f.ab),p.Kb(f.Y),p.Kb(v.a),p.Kb(f.fb),p.Kb(P.b),p.Kb(f.Z),p.Kb(y.a),p.Kb(w.d),p.Kb(k.a))},l.\u0275cmp=p.Eb({type:l,selectors:[["app-login"]],features:[p.wb],decls:34,vars:24,consts:[[1,"ion-text-center"],[3,"click"],["ion-text","","color","primary","showWhen","ios"],["name","md-close","showWhen","android"],[2,"margin-bottom","10px"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],[2,"margin-left","10px","text-decoration","underline",3,"click"],["padding",""],["color","primary","expand","block",3,"disabled","click"],["padding","",1,"ion-text-center"],["color","primary","fill","outline",3,"click"]],template:function(t,n){1&t&&(p.Qb(0,"ion-header"),p.Qb(1,"ion-toolbar"),p.Qb(2,"ion-title",0),p.uc(3),p.bc(4,"translate"),p.Pb(),p.Qb(5,"ion-buttons"),p.Qb(6,"ion-button",1),p.Yb("click",(function(){return n.dismiss()})),p.Qb(7,"span",2),p.uc(8),p.bc(9,"translate"),p.Pb(),p.Lb(10,"ion-icon",3),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(11,"ion-content"),p.Qb(12,"ion-list",4),p.Qb(13,"ion-item"),p.Qb(14,"ion-label",5),p.uc(15),p.bc(16,"translate"),p.Pb(),p.Qb(17,"ion-input",6),p.Yb("ngModelChange",(function(t){return n.email=t})),p.Pb(),p.Pb(),p.Qb(18,"ion-item"),p.Qb(19,"ion-label",5),p.uc(20),p.bc(21,"translate"),p.Pb(),p.Qb(22,"ion-input",7),p.Yb("ngModelChange",(function(t){return n.password=t})),p.Pb(),p.Pb(),p.Pb(),p.Qb(23,"a",8),p.Yb("click",(function(){return n.findOutPassword()})),p.uc(24),p.bc(25,"translate"),p.Pb(),p.Qb(26,"div",9),p.Qb(27,"ion-button",10),p.Yb("click",(function(){return n.login()})),p.uc(28),p.bc(29,"translate"),p.Pb(),p.Pb(),p.Qb(30,"div",11),p.Qb(31,"ion-button",12),p.Yb("click",(function(){return n.registre()})),p.uc(32),p.bc(33,"translate"),p.Pb(),p.Pb(),p.Pb()),2&t&&(p.zb(3),p.vc(p.cc(4,10,"signin.SignIn")),p.zb(5),p.vc(p.cc(9,12,"signin.Return")),p.zb(7),p.vc(p.cc(16,14,"signin.Email")),p.zb(2),p.gc("ngModel",n.email),p.zb(3),p.vc(p.cc(21,16,"signin.Password")),p.zb(2),p.gc("ngModel",n.password),p.zb(2),p.vc(p.cc(25,18,"signin.ForgetPassword")),p.zb(3),p.gc("disabled",null==n.email||""==n.email||null==n.password||""==n.password),p.zb(1),p.vc(p.cc(29,20,"signin.SignIn")),p.zb(4),p.vc(p.cc(33,22,"signin.Register")))},directives:[f.t,f.V,f.U,f.i,f.h,f.u,f.q,f.B,f.z,f.A,f.y,f.eb,b.i,b.l],pipes:[w.c],styles:[""]}),l);function C(t,n){if(1&t){var e=p.Rb();p.Qb(0,"div"),p.Qb(1,"ion-card"),p.Qb(2,"ion-card-header",3),p.Qb(3,"p"),p.uc(4),p.bc(5,"translate"),p.Pb(),p.Pb(),p.Qb(6,"ion-card-content",3),p.Qb(7,"ion-button",4),p.Yb("click",(function(){return p.nc(e),p.ac().showModal()})),p.uc(8),p.bc(9,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Pb()}2&t&&(p.zb(4),p.wc(" ",p.cc(5,2,"myAccount.SignIn")," "),p.zb(4),p.wc("",p.cc(9,4,"myAccount.SignInOrRegister")," "))}function O(t,n){if(1&t){var e=p.Rb();p.Qb(0,"div"),p.Qb(1,"ion-list",5),p.Qb(2,"ion-item",6),p.Yb("click",(function(){return p.nc(e),p.ac().UserInfoPage()})),p.Qb(3,"ion-avatar",7),p.Lb(4,"img",8),p.Pb(),p.Qb(5,"ion-label",9),p.uc(6),p.Pb(),p.Pb(),p.Pb(),p.Qb(7,"ion-list",5),p.Qb(8,"ion-list-header"),p.Qb(9,"ion-label"),p.Qb(10,"span"),p.uc(11),p.bc(12,"translate"),p.Pb(),p.Qb(13,"a",10),p.Yb("click",(function(){return p.nc(e),p.ac().readCommandList("All")})),p.uc(14),p.bc(15,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Qb(16,"ion-item",11),p.Yb("click",(function(){return p.nc(e),p.ac().readCommandList("OrderStatus_Progressing")})),p.uc(17),p.bc(18,"translate"),p.Pb(),p.Qb(19,"ion-item",11),p.Yb("click",(function(){return p.nc(e),p.ac().readCommandList("OrderStatus_Valid")})),p.uc(20),p.bc(21,"translate"),p.Pb(),p.Qb(22,"ion-item",11),p.Yb("click",(function(){return p.nc(e),p.ac().readCommandList("OrderStatus_Refus")})),p.uc(23),p.bc(24,"translate"),p.Pb(),p.Pb(),p.Qb(25,"ion-list",5),p.Qb(26,"ion-item",12),p.Yb("click",(function(){return p.nc(e),p.ac().translation()})),p.Lb(27,"ion-icon",13),p.uc(28),p.bc(29,"translate"),p.Pb(),p.Qb(30,"ion-item",11),p.Yb("click",(function(){return p.nc(e),p.ac().myAvis()})),p.Lb(31,"ion-icon",14),p.uc(32),p.bc(33,"translate"),p.Pb(),p.Qb(34,"ion-item",11),p.Yb("click",(function(){return p.nc(e),p.ac().contactUs()})),p.Lb(35,"ion-icon",15),p.uc(36),p.bc(37,"translate"),p.Pb(),p.Qb(38,"ion-item",11),p.Yb("click",(function(){return p.nc(e),p.ac().aboutUs()})),p.Lb(39,"ion-icon",16),p.uc(40),p.bc(41,"translate"),p.Pb(),p.Pb(),p.Qb(42,"ion-list",5),p.Qb(43,"ion-button",17),p.Yb("click",(function(){return p.nc(e),p.ac().logout()})),p.uc(44),p.bc(45,"translate"),p.Pb(),p.Pb(),p.Pb()}if(2&t){var o=p.ac();p.zb(6),p.wc(" ",o.username," "),p.zb(5),p.wc(" ",p.cc(12,11,"myAccount.MyOrder")," "),p.zb(3),p.wc("",p.cc(15,13,"myAccount.ViewAll")," "),p.zb(3),p.vc(p.cc(18,15,"myAccount.PrepareOrder")),p.zb(3),p.vc(p.cc(21,17,"myAccount.OrderArrived")),p.zb(3),p.vc(p.cc(24,19,"myAccount.CanceledOrder")),p.zb(5),p.wc(" ",p.cc(29,21,"translation.Title")," "),p.zb(4),p.wc(" ",p.cc(33,23,"myAccount.Feedbacks")," "),p.zb(4),p.wc(" ",p.cc(37,25,"myAccount.ContactUs")," "),p.zb(4),p.wc(" ",p.cc(41,27,"myAccount.AboutUs")," "),p.zb(4),p.wc(" ",p.cc(45,29,"myAccount.SignOut")," ")}}var S,x,I,z,R,A=[{path:"",component:(S=function(n){r(i,n);var o=c(i);function i(n,e,r,c,a,s,l){var u;return t(this,i),(u=o.call(this)).navCtrl=n,u.modalCtrl=e,u.storage=r,u.utils=c,u.rest=a,u.toastCtrl=s,u.translateService=l,u.notLogin=!0,u.logined=!1,u.username="",u}return e(i,[{key:"ngOnInit",value:function(){}},{key:"showModal",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:Q});case 2:(n=t.sent).present(),n.onWillDismiss().then((function(){e.loadUserPage()}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"ionViewDidEnter",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadUserPage();case 2:case"end":return t.stop()}}),t,this)})))}},{key:"contactUs",value:function(){this.navCtrl.navigateForward("ContactUsPage",{queryParams:{Page:"MyAccountPage"}})}},{key:"aboutUs",value:function(){this.navCtrl.navigateForward("AboutUsPage")}},{key:"loadUserPage",value:function(){var t=localStorage.getItem("jwt");null==localStorage.getItem("userId")||null==t?(this.notLogin=!0,this.logined=!1):(this.notLogin=!1,this.logined=!0,this.username=localStorage.getItem("username")),this.logined&&this.loadNotReadMessage()}},{key:"logout",value:function(){localStorage.clear(),this.storage.remove("userId"),this.storage.remove("jwt"),this.storage.remove("refreshToken"),this.rest.logout(),this.loadUserPage()}},{key:"loadNotReadMessage",value:function(){}},{key:"readCommandList",value:function(t){this.navCtrl.navigateForward("ReadOrderListPage",{queryParams:{orderType:t}})}},{key:"translation",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:h.a});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"UserInfoPage",value:function(){this.navCtrl.navigateForward("UserInfoPage")}},{key:"myAvis",value:function(){this.navCtrl.navigateForward("ProductEvaluationListPage")}}]),i}(m.a),S.\u0275fac=function(t){return new(t||S)(p.Kb(f.ab),p.Kb(f.Z),p.Kb(P.b),p.Kb(k.a),p.Kb(v.a),p.Kb(f.fb),p.Kb(w.d))},S.\u0275cmp=p.Eb({type:S,selectors:[["app-my-account"]],features:[p.wb],decls:10,vars:5,consts:[["slot","start"],["text-center",""],[4,"ngIf"],[1,"ion-text-center"],["size","small","fill","outline",3,"click"],[1,"ion-margin-top"],["ion-item","",3,"click"],["slot","start","item-start",""],["src","assets/imgs/logo-512.png"],[2,"font-size","1.5em"],[1,"viewAll",3,"click"],["button","","detail","true","ion-item","",3,"click"],["button","","detail","true",3,"click"],["name","globe","item-start","","slot","start",1,"iconStyle"],["name","at","slot","start","item-start","",1,"iconStyle"],["name","mail","item-start","","slot","start",1,"iconStyle"],["name","information-circle","item-start","","slot","start",1,"iconStyle"],["Expand","full","full","","color","danger",1,"ion-text-center","ion-no-margin",3,"click"]],template:function(t,n){1&t&&(p.Qb(0,"ion-header"),p.Qb(1,"ion-toolbar"),p.Qb(2,"ion-buttons",0),p.Lb(3,"ion-back-button"),p.Pb(),p.Qb(4,"ion-title",1),p.uc(5),p.bc(6,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Qb(7,"ion-content"),p.tc(8,C,10,6,"div",2),p.tc(9,O,46,31,"div",2),p.Pb()),2&t&&(p.zb(5),p.vc(p.cc(6,3,"myAccount.Title")),p.zb(3),p.gc("ngIf",n.notLogin),p.zb(1),p.gc("ngIf",n.logined))},directives:[f.t,f.V,f.i,f.e,f.f,f.U,f.q,u.k,f.j,f.l,f.k,f.h,f.B,f.z,f.d,f.A,f.C,f.u],pipes:[w.c],styles:[".card[_ngcontent-%COMP%]{margin:0;width:100%}.AccountDetail[_ngcontent-%COMP%]{padding:10px}.viewAll[_ngcontent-%COMP%]{float:right;-webkit-text-decoration-line:none;text-decoration-line:none;font-size:.7em;margin-right:10px}.iconStyle[_ngcontent-%COMP%]{color:#717275}ion-card[_ngcontent-%COMP%]{margin:0;width:100%}"]}),S)}],M=((x=function n(){t(this,n)}).\u0275mod=p.Ib({type:x}),x.\u0275inj=p.Hb({factory:function(t){return new(t||x)},imports:[[d.i.forChild(A)],d.i]}),x),T=[{path:"",component:Q}],j=((R=function n(){t(this,n)}).\u0275mod=p.Ib({type:R}),R.\u0275inj=p.Hb({factory:function(t){return new(t||R)},imports:[[d.i.forChild(T)],d.i]}),R),L=((z=function n(){t(this,n)}).\u0275mod=p.Ib({type:z}),z.\u0275inj=p.Hb({factory:function(t){return new(t||z)},imports:[[u.b,b.e,f.W,j,w.b]]}),z),_=((I=function n(){t(this,n)}).\u0275mod=p.Ib({type:I}),I.\u0275inj=p.Hb({factory:function(t){return new(t||I)},imports:[[u.b,b.e,f.W,M,w.b,L]]}),I)}}])}();