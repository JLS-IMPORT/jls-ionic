!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,n||t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return a(this,r)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{JzUc:function(a,i,c){"use strict";c.r(i),c.d(i,"AddAdressPageModule",(function(){return A}));var l=c("ofXK"),u=c("3Pt+"),d=c("TEn/"),b=c("tyNb"),p=c("mrSG"),f=c("n3qt"),m=c("fXoL"),h=c("sYmb"),g=c("kwrG"),y=c("MDGB"),v=c("x7k0"),C=c("e8h1"),P=c("kmnG"),w=c("qFsG"),Q=c("d3UM"),q=c("FKr1");function N(t,e){1&t&&(m.Qb(0,"ion-title"),m.uc(1),m.bc(2,"translate"),m.Pb()),2&t&&(m.zb(1),m.vc(m.cc(2,1,"add-adress.addAdress")))}function F(t,e){1&t&&(m.Qb(0,"ion-title"),m.uc(1),m.bc(2,"translate"),m.Pb()),2&t&&(m.zb(1),m.vc(m.cc(2,1,"add-adress.modifyAdress")))}var I,L,x,k=[{path:"",component:(I=function(a){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(b,a);var i,c,l,d=o(b);function b(e,r,n,o,a,s,i,c,l,p){var f;return t(this,b),(f=d.call(this)).navCtrl=e,f.translateService=r,f.network=n,f.formBuilder=o,f.rest=a,f.toastCtrl=s,f.utils=i,f.loadingCtrl=c,f.storage=l,f.router=p,f.submitted=!1,f.adreeForm=f.formBuilder.group({Id:["0"],EntrepriseName:["",u.q.required],ContactFirstName:["",u.q.required],ContactLastName:["",u.q.required],FirstLineAddress:["",u.q.required],SecondLineAddress:[""],City:["",u.q.required],CountryId:["",u.q.required],ZipCode:["",u.q.required],ContactTelephone:["",u.q.required],ContactFax:[""]}),f}return i=b,(c=[{key:"ngOnInit",value:function(){if(this.previousPage=this.router.snapshot.queryParams.currentPage,this.type=this.router.snapshot.queryParams.type,null!=this.router.snapshot.queryParams.adress)var t=JSON.parse(this.router.snapshot.queryParams.adress);null!=t?(console.log(t),this.adreeForm.patchValue({Id:t.Id||0,EntrepriseName:t.EntrepriseName,ContactFirstName:t.ContactFirstName,ContactLastName:t.ContactLastName,FirstLineAddress:t.FirstLineAddress,SecondLineAddress:t.SecondLineAddress,City:t.City,CountryId:null!=t.CountryId?t.CountryId:1,ZipCode:t.ZipCode,ContactTelephone:t.ContactTelephone,ContactFax:t.ContactFax})):this.loadUserInfo()}},{key:"loadUserInfo",value:function(){var t=this,e=Object.create(null,{showLoading:{get:function(){return r(s(b.prototype),"showLoading",t)}},showToast:{get:function(){return r(s(b.prototype),"showToast",t)}}});return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("none"==this.network.type){t.next=12;break}return console.log(this.adreeForm.value),t.next=4,e.showLoading.call(this,this.loadingCtrl,this.translateService.instant("Loading"));case 4:return r=t.sent,t.t0=this.rest,t.next=8,this.utils.getKey("userId");case 8:t.t1=t.sent,t.t0.GetUserById.call(t.t0,t.t1).subscribe((function(t){null!=t?n.adreeForm.patchValue({EntrepriseName:null!=t.EntrepriseName?t.EntrepriseName:"",ContactTelephone:null!=t.PhoneNumber?t.PhoneNumber:""}):e.showToast.call(n,n.toastCtrl,n.translateService.instant("Msg_Error")),r.dismiss()}),(function(t){e.showToast.call(n,n.toastCtrl,n.translateService.instant("Msg_Error")),r.dismiss()})),t.next=13;break;case 12:e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"));case 13:case"end":return t.stop()}}),t,this)})))}},{key:"saveAdress",value:function(){var t=this,e=Object.create(null,{showLoading:{get:function(){return r(s(b.prototype),"showLoading",t)}},showToast:{get:function(){return r(s(b.prototype),"showToast",t)}}});return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,o,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in this.submitted=!0,this.adreeForm.controls)this.adreeForm.controls[r].markAsTouched();if(this.adreeForm.invalid){t.next=18;break}if("none"==this.network.type){t.next=17;break}return console.log(this.adreeForm.value),t.t0=this.adreeForm.value,t.next=8,this.utils.getKey("userId");case 8:return t.t1=t.sent,t.t2=this.type,n={adress:t.t0,userId:t.t1,type:t.t2},t.next=13,e.showLoading.call(this,this.loadingCtrl,this.translateService.instant("Loading"));case 13:o=t.sent,this.rest.CreateOrUpdateAdress(n).subscribe((function(t){t.Success&&null!=t.Data?(a.type?(a.storage.set("tempFacturationAdress","true"),a.navCtrl.navigateBack(a.previousPage,{queryParams:{type:a.type,facturationAdress:JSON.stringify(a.adreeForm.value)}})):a.navCtrl.pop(),o.dismiss()):(o.dismiss(),e.showToast.call(a,a.toastCtrl,a.translateService.instant("Msg_Error")))}),(function(t){o.dismiss(),e.showToast.call(a,a.toastCtrl,a.translateService.instant("Msg_Error"))})),t.next=18;break;case 17:e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"));case 18:case"end":return t.stop()}}),t,this)})))}},{key:"f",get:function(){return this.adreeForm.controls}}])&&e(i.prototype,c),l&&e(i,l),b}(f.a),I.\u0275fac=function(t){return new(t||I)(m.Kb(d.ab),m.Kb(h.d),m.Kb(g.a),m.Kb(u.b),m.Kb(y.a),m.Kb(d.fb),m.Kb(v.a),m.Kb(d.Y),m.Kb(C.b),m.Kb(b.a))},I.\u0275cmp=m.Eb({type:I,selectors:[["app-add-adress"]],features:[m.wb],decls:62,vars:39,consts:[["slot","start"],[4,"ngIf"],[2,"background-color","#f4f4f4!important"],[2,"margin-top","0px","margin-left","0px","margin-right","0px","width","100%"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["required","","matInput","","formControlName","EntrepriseName",3,"placeholder"],["col-6",""],["required","","matInput","","formControlName","ContactFirstName",3,"placeholder"],["required","","matInput","","formControlName","ContactLastName",3,"placeholder"],["required","","matInput","","formControlName","FirstLineAddress",3,"placeholder"],["matInput","","formControlName","SecondLineAddress",3,"placeholder"],["col-4",""],["required","","matInput","","formControlName","City",3,"placeholder"],["required","","formControlName","CountryId",3,"placeholder"],[3,"value"],["required","","matInput","","maxlength","5","formControlName","ZipCode",3,"placeholder"],["postalCode",""],["matPrefix",""],["required","","type","tel","matInput","","formControlName","ContactTelephone",3,"placeholder"],["type","tel","matInput","","formControlName","ContactFax",3,"placeholder"],["text-center",""],["color","primary",2,"width","100%","height","35px",3,"click"]],template:function(t,e){1&t&&(m.Qb(0,"ion-header"),m.Qb(1,"ion-toolbar"),m.Qb(2,"ion-buttons",0),m.Lb(3,"ion-back-button"),m.Pb(),m.tc(4,N,3,3,"ion-title",1),m.tc(5,F,3,3,"ion-title",1),m.Pb(),m.Pb(),m.Qb(6,"ion-content",2),m.Qb(7,"ion-card",3),m.Qb(8,"ion-card-content"),m.Qb(9,"form",4),m.Qb(10,"mat-form-field",5),m.Lb(11,"input",6),m.bc(12,"translate"),m.Pb(),m.Qb(13,"ion-row"),m.Qb(14,"ion-col",7),m.Qb(15,"mat-form-field",5),m.Lb(16,"input",8),m.bc(17,"translate"),m.Pb(),m.Pb(),m.Qb(18,"ion-col",7),m.Qb(19,"mat-form-field",5),m.Lb(20,"input",9),m.bc(21,"translate"),m.Pb(),m.Pb(),m.Pb(),m.Qb(22,"mat-form-field",5),m.Lb(23,"textarea",10),m.bc(24,"translate"),m.Pb(),m.Qb(25,"mat-form-field",5),m.Lb(26,"textarea",11),m.bc(27,"translate"),m.Pb(),m.Qb(28,"ion-row"),m.Qb(29,"ion-col",12),m.Qb(30,"mat-form-field",5),m.Lb(31,"input",13),m.bc(32,"translate"),m.Pb(),m.Pb(),m.Qb(33,"ion-col",12),m.Qb(34,"mat-form-field"),m.Qb(35,"mat-select",14),m.bc(36,"translate"),m.Qb(37,"mat-option",15),m.uc(38," France "),m.Pb(),m.Qb(39,"mat-option",15),m.uc(40," Belgique "),m.Pb(),m.Qb(41,"mat-option",15),m.uc(42," Espagnol "),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(43,"ion-col",12),m.Qb(44,"mat-form-field",5),m.Lb(45,"input",16,17),m.bc(47,"translate"),m.Pb(),m.Pb(),m.Pb(),m.Qb(48,"mat-form-field",5),m.Qb(49,"span",18),m.uc(50,"+33 \xa0"),m.Pb(),m.Lb(51,"input",19),m.bc(52,"translate"),m.Pb(),m.Qb(53,"mat-form-field",5),m.Qb(54,"span",18),m.uc(55,"+33 \xa0"),m.Pb(),m.Lb(56,"input",20),m.bc(57,"translate"),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(58,"div",21),m.Qb(59,"ion-button",22),m.Yb("click",(function(){return e.saveAdress()})),m.uc(60),m.bc(61,"translate"),m.Pb(),m.Pb(),m.Pb()),2&t&&(m.zb(4),m.gc("ngIf",0==e.adreeForm.controls.Id.value),m.zb(1),m.gc("ngIf",0!=e.adreeForm.controls.Id.value),m.zb(4),m.gc("formGroup",e.adreeForm),m.zb(2),m.hc("placeholder",m.cc(12,17,"add-adress.Entreprise")),m.zb(5),m.hc("placeholder",m.cc(17,19,"add-adress.Nom")),m.zb(4),m.hc("placeholder",m.cc(21,21,"add-adress.Prenom")),m.zb(3),m.hc("placeholder",m.cc(24,23,"add-adress.Address")),m.zb(3),m.hc("placeholder",m.cc(27,25,"add-adress.Address2")),m.zb(5),m.hc("placeholder",m.cc(32,27,"add-adress.City")),m.zb(4),m.hc("placeholder",m.cc(36,29,"add-adress.Country")),m.zb(2),m.gc("value",1),m.zb(2),m.gc("value",2),m.zb(2),m.gc("value",3),m.zb(4),m.hc("placeholder",m.cc(47,31,"add-adress.PostalCode")),m.zb(6),m.hc("placeholder",m.cc(52,33,"add-adress.Telephone")),m.zb(5),m.hc("placeholder",m.cc(57,35,"add-adress.Fax")),m.zb(4),m.wc(" ",m.cc(61,37,"add-adress.Enregistrer")," "))},directives:[d.t,d.V,d.i,d.e,d.f,l.k,d.q,d.j,d.k,u.r,u.j,u.d,P.c,w.a,u.a,u.p,u.i,u.c,d.H,d.p,Q.a,q.f,u.f,P.g,d.h,d.U],pipes:[h.c],styles:[".mat-form-field[_ngcontent-%COMP%]{display:inline}"]}),I)}],O=((L=function e(){t(this,e)}).\u0275mod=m.Ib({type:L}),L.\u0275inj=m.Hb({factory:function(t){return new(t||L)},imports:[[b.i.forChild(k)],b.i]}),L),z=c("NFeN"),A=((x=function e(){t(this,e)}).\u0275mod=m.Ib({type:x}),x.\u0275inj=m.Hb({factory:function(t){return new(t||x)},imports:[[l.b,u.e,d.W,O,P.e,w.b,z.b,Q.b,h.b,u.o]]}),x)}}])}();