!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(r):i.value}})(t,e,n||t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return o(this,r)}}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"h+oH":function(o,a,c){"use strict";c.r(a),c.d(a,"ModifyUserInfoPageModule",(function(){return O}));var u=c("ofXK"),l=c("3Pt+"),d=c("TEn/"),p=c("tyNb"),f=c("mrSG"),b=c("n3qt"),h=c("fXoL"),m=c("kwrG"),g=c("MDGB"),P=c("sYmb"),y=c("kmnG"),A=c("qFsG");function w(t,e){if(1&t&&(h.Qb(0,"ion-card-content",22),h.Qb(1,"p",23),h.uc(2),h.Qb(3,"span"),h.uc(4),h.Pb(),h.Pb(),h.Qb(5,"p",23),h.uc(6),h.Pb(),h.Qb(7,"p",23),h.uc(8),h.Pb(),h.Qb(9,"p",23),h.uc(10),h.Qb(11,"span"),h.uc(12),h.Pb(),h.Pb(),h.Qb(13,"p",23),h.uc(14),h.Pb(),h.Pb()),2&t){var r=h.ac();h.zb(2),h.wc("",r.defaultShippingAdress.ContactFirstName," "),h.zb(2),h.wc(" ",r.defaultShippingAdress.ContactLastName,""),h.zb(2),h.wc("",r.defaultShippingAdress.FirstLineAddress," "),h.zb(2),h.wc("",r.defaultShippingAdress.SecondLineAddress," "),h.zb(2),h.wc("",r.defaultShippingAdress.ZipCode," "),h.zb(2),h.wc(" ",r.defaultShippingAdress.City," "),h.zb(2),h.wc("",r.defaultShippingAdress.ContactTelephone," ")}}function v(t,e){1&t&&(h.Qb(0,"ion-card-content",26),h.Qb(1,"p",27),h.uc(2),h.bc(3,"translate"),h.Pb(),h.Pb()),2&t&&(h.zb(2),h.vc(h.cc(3,1,"NoDataToDisplay")))}function S(t,e){if(1&t){var r=h.Rb();h.Qb(0,"ion-button",28),h.Yb("click",(function(){return h.nc(r),h.ac().selectShippingAdress()})),h.uc(1),h.bc(2,"translate"),h.Pb()}2&t&&(h.zb(1),h.vc(h.cc(2,1,"order-confirmation.ChooseAnotherAddress")))}function I(t,e){if(1&t){var r=h.Rb();h.Qb(0,"ion-button",29),h.Yb("click",(function(){return h.nc(r),h.ac().selectShippingAdress()})),h.uc(1),h.bc(2,"translate"),h.Pb()}2&t&&(h.zb(1),h.vc(h.cc(2,1,"Add")))}var Q,x,z,C=[{path:"",component:(Q=function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(p,o);var a,c,u,d=i(p);function p(e,r,n,i,o,s,a,c){var u;return t(this,p),(u=d.call(this)).navCtrl=e,u.formBuilder=r,u.toastCtrl=n,u.loadingCtrl=i,u.network=o,u.rest=s,u.translateService=a,u.router=c,u.facturationAdress={},u.defaultShippingAdress={},u.UserInfo={},u.userForm=u.formBuilder.group({EntrepriseName:["",l.q.required],Siret:["",l.q.required],PhoneNumber:["",l.q.required]}),u}return a=p,(c=[{key:"ionViewWillEnter",value:function(){this.defaultShippingAdress=null!=this.router.snapshot.queryParams.tempSelectedAdress?JSON.parse(this.router.snapshot.queryParams.tempSelectedAdress):this.defaultShippingAdress,this.facturationAdress=null!=this.router.snapshot.queryParams.facturationAdress?JSON.parse(this.router.snapshot.queryParams.facturationAdress):this.facturationAdress}},{key:"ngOnInit",value:function(){var t=this.router.snapshot.queryParams.UserInfo;this.UserInfo=null!=t?JSON.parse(t):{},this.userForm.patchValue({EntrepriseName:this.UserInfo.EntrepriseName,Siret:this.UserInfo.Siret,PhoneNumber:this.UserInfo.PhoneNumber}),null!=this.UserInfo.FacturationAdress&&(this.facturationAdress=this.UserInfo.FacturationAdress),null!=this.UserInfo.ShippingAdress&&this.UserInfo.ShippingAdress.length>0&&(this.defaultShippingAdress=this.UserInfo.ShippingAdress.find((function(t){return 1==t.IsDefaultAdress})),this.defaultShippingAdress=null==this.defaultShippingAdress?this.UserInfo.ShippingAdress[0]:this.defaultShippingAdress)}},{key:"modifyFacturationAdress",value:function(t){this.navCtrl.navigateForward("AddAdressPage",{queryParams:{type:"facturationAdress",adress:JSON.stringify(t),currentPage:"ModifyUserInfoPage"}})}},{key:"selectShippingAdress",value:function(){this.navCtrl.navigateForward("SelectShippingAdressPage",{queryParams:{CurrentAddressId:null!=this.defaultShippingAdress?this.defaultShippingAdress.Id:null,CurrentPage:"ModifyUserInfoPage"}})}},{key:"saveUserInfo",value:function(){var t=this,e=Object.create(null,{showLoading:{get:function(){return r(s(p.prototype),"showLoading",t)}},showToast:{get:function(){return r(s(p.prototype),"showToast",t)}}});return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n,i,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in this.userForm.controls)this.userForm.controls[r].markAsTouched();if(this.userForm.invalid){t.next=13;break}if("none"==this.network.type){t.next=12;break}return console.log(this.userForm.value),(n=this.userForm.value).UserId=localStorage.getItem("userId"),n.DefaultShippingAddressId=null!=this.defaultShippingAdress?this.defaultShippingAdress.Id:0,t.next=8,e.showLoading.call(this,this.loadingCtrl,this.translateService.instant("Loading"));case 8:i=t.sent,this.rest.UpdateUserInfo(n).subscribe((function(t){null!=t&&t>0&&(o.UserInfo.EntrepriseName=o.userForm.value.EntrepriseName,o.UserInfo.Siret=o.userForm.value.Siret,o.UserInfo.PhoneNumber=o.userForm.value.PhoneNumber,o.UserInfo.FacturationAdress=o.facturationAdress,e.showToast.call(o,o.toastCtrl,o.translateService.instant("Msg_SaveSuccess"))),i.dismiss()}),(function(t){e.showToast.call(o,o.toastCtrl,o.translateService.instant("Msg_Error")),i.dismiss()})),t.next=13;break;case 12:e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"));case 13:case"end":return t.stop()}}),t,this)})))}}])&&e(a.prototype,c),u&&e(a,u),p}(b.a),Q.\u0275fac=function(t){return new(t||Q)(h.Kb(d.ab),h.Kb(l.b),h.Kb(d.fb),h.Kb(d.Y),h.Kb(m.a),h.Kb(g.a),h.Kb(P.d),h.Kb(p.a))},Q.\u0275cmp=h.Eb({type:Q,selectors:[["app-modify-user-info"]],features:[h.wb],decls:62,vars:36,consts:[["slot","start"],[2,"margin","0px","width","100%"],[2,"padding-bottom","3px"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["required","","matInput","","formControlName","EntrepriseName",3,"placeholder"],["required","","type","tel","matInput","","formControlName","Siret",3,"placeholder"],["matPrefix",""],["required","","type","tel","matInput","","formControlName","PhoneNumber",3,"placeholder"],[2,"padding","8px"],[2,"margin-bottom","0px"],[1,"productCard",2,"width","100%","border-bottom","0px"],[2,"padding","8px 4px 0px"],[1,"productTitle","ion-no-margin"],["style","padding: 0px; ",4,"ngIf"],["style","padding-left: 8px;",4,"ngIf"],["text-center","",1,"ion-text-center"],["size","small","color","primary","fill","outline",3,"click",4,"ngIf"],["ion-button","","size","small","color","primary","fill","outline",3,"click",4,"ngIf"],[2,"padding","8px","margin-bottom","20px"],[1,"productTitle",2,"padding","8px 4px 0px"],["float-right","",1,"articleNumber","ion-float-right",3,"click"],[2,"padding","0px"],[1,"descriptionFont"],[1,"ion-text-center"],["Expand","full","color","primary",1,"ion-no-margin",2,"width","100%","height","35px",3,"click"],[2,"padding-left","8px"],["text-center","",1,"descriptionFont"],["size","small","color","primary","fill","outline",3,"click"],["ion-button","","size","small","color","primary","fill","outline",3,"click"]],template:function(t,e){1&t&&(h.Qb(0,"ion-header"),h.Qb(1,"ion-toolbar"),h.Qb(2,"ion-buttons",0),h.Lb(3,"ion-back-button"),h.Pb(),h.Qb(4,"ion-title"),h.uc(5),h.bc(6,"translate"),h.Pb(),h.Pb(),h.Pb(),h.Qb(7,"ion-content"),h.Qb(8,"ion-card",1),h.Qb(9,"ion-card-content",2),h.Qb(10,"form",3),h.Qb(11,"mat-form-field",4),h.Lb(12,"input",5),h.bc(13,"translate"),h.Pb(),h.Qb(14,"mat-form-field",4),h.Lb(15,"input",6),h.bc(16,"translate"),h.Pb(),h.Qb(17,"mat-form-field",4),h.Qb(18,"span",7),h.uc(19,"+33 \xa0"),h.Pb(),h.Lb(20,"input",8),h.bc(21,"translate"),h.Pb(),h.Pb(),h.Pb(),h.Pb(),h.Qb(22,"div",9),h.Qb(23,"ion-list",10),h.Qb(24,"ion-card",11),h.Qb(25,"ion-card-header",12),h.Qb(26,"h3",13),h.uc(27),h.bc(28,"translate"),h.Pb(),h.Pb(),h.tc(29,w,15,7,"ion-card-content",14),h.tc(30,v,4,3,"ion-card-content",15),h.Pb(),h.Qb(31,"div",16),h.tc(32,S,3,3,"ion-button",17),h.tc(33,I,3,3,"ion-button",18),h.Pb(),h.Pb(),h.Pb(),h.Qb(34,"div",19),h.Qb(35,"ion-card",11),h.Qb(36,"ion-card-header",20),h.Qb(37,"h3",13),h.uc(38),h.bc(39,"translate"),h.Qb(40,"a",21),h.Yb("click",(function(){return e.modifyFacturationAdress(e.facturationAdress)})),h.uc(41),h.bc(42,"translate"),h.Pb(),h.Pb(),h.Pb(),h.Qb(43,"ion-card-content",22),h.Qb(44,"p",23),h.uc(45),h.Qb(46,"span"),h.uc(47),h.Pb(),h.Pb(),h.Qb(48,"p",23),h.uc(49),h.Pb(),h.Qb(50,"p",23),h.uc(51),h.Pb(),h.Qb(52,"p",23),h.uc(53),h.Qb(54,"span"),h.uc(55),h.Pb(),h.Pb(),h.Qb(56,"p",23),h.uc(57),h.Pb(),h.Pb(),h.Pb(),h.Pb(),h.Qb(58,"div",24),h.Qb(59,"ion-button",25),h.Yb("click",(function(){return e.saveUserInfo()})),h.uc(60),h.bc(61,"translate"),h.Pb(),h.Pb(),h.Pb()),2&t&&(h.zb(5),h.vc(h.cc(6,20,"modify-user-info.modifyUserInfo")),h.zb(5),h.gc("formGroup",e.userForm),h.zb(2),h.hc("placeholder",h.cc(13,22,"add-adress.Entreprise")),h.zb(3),h.hc("placeholder",h.cc(16,24,"modify-user-info.Siret")),h.zb(5),h.hc("placeholder",h.cc(21,26,"add-adress.Telephone")),h.zb(7),h.vc(h.cc(28,28,"order-confirmation.ShippingAddress")),h.zb(2),h.gc("ngIf",null!=e.defaultShippingAdress),h.zb(1),h.gc("ngIf",null==e.defaultShippingAdress),h.zb(2),h.gc("ngIf",null!=e.defaultShippingAdress),h.zb(1),h.gc("ngIf",null==e.defaultShippingAdress),h.zb(5),h.wc("",h.cc(39,30,"order-confirmation.BillingAddress")," "),h.zb(3),h.vc(h.cc(42,32,"order-confirmation.Edit")),h.zb(4),h.wc("",e.facturationAdress.ContactFirstName," "),h.zb(2),h.wc(" ",e.facturationAdress.ContactLastName,""),h.zb(2),h.wc("",e.facturationAdress.FirstLineAddress," "),h.zb(2),h.wc("",e.facturationAdress.SecondLineAddress," "),h.zb(2),h.wc("",e.facturationAdress.ZipCode," "),h.zb(2),h.wc(" ",e.facturationAdress.City," "),h.zb(2),h.wc("",e.facturationAdress.ContactTelephone," "),h.zb(3),h.vc(h.cc(61,34,"add-adress.Enregistrer")))},directives:[d.t,d.V,d.i,d.e,d.f,d.U,d.q,d.j,d.k,l.r,l.j,l.d,y.c,A.a,l.a,l.p,l.i,l.c,y.g,d.B,d.l,u.k,d.h],pipes:[P.c],styles:[".articleNumber[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:500}.productCard[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-left:0;margin-right:0;box-shadow:none!important;border-bottom:.5px solid #dedede;margin-top:0}.productTitle[_ngcontent-%COMP%]{font-weight:500;background-color:#f4f4f4;padding:3px;color:#000}.descriptionFont[_ngcontent-%COMP%]{margin:2px 0;color:var(--ion-color-warning-contrast)}.mat-form-field[_ngcontent-%COMP%]{display:inline}"]}),Q)}],k=((x=function e(){t(this,e)}).\u0275mod=h.Ib({type:x}),x.\u0275inj=h.Hb({factory:function(t){return new(t||x)},imports:[[p.i.forChild(C)],p.i]}),x),N=c("d3UM"),F=c("NFeN"),O=((z=function e(){t(this,e)}).\u0275mod=h.Ib({type:z}),z.\u0275inj=h.Hb({factory:function(t){return new(t||z)},imports:[[u.b,l.e,d.W,k,P.b,y.e,A.b,N.b,F.b,l.o]]}),z)}}])}();